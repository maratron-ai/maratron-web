{"version":3,"names":["Object","defineProperty","exports","value","default","PhotoUpload","_react","_interopRequireWildcard","require","_ui","_upload","_jsxFileName","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","has","get","set","hasOwnProperty","call","getOwnPropertyDescriptor","__jsx","createElement","cov_bd943snz5","path","hash","global","Function","gcv","coverageData","statementMap","start","line","column","end","fnMap","name","decl","loc","branchMap","type","locations","undefined","s","b","_coverageSchema","coverage","actualCoverage","onChange","disabled","text","inputRef","useRef","handleFileChange","file","target","files","startsWith","alert","size","url","uploadImage","error","console","className","__self","__source","fileName","lineNumber","columnNumber","src","alt","Button","variant","onClick","current","click","ref","accept","capture"],"sources":["photo-upload.tsx"],"sourcesContent":["\"use client\";\n\nimport { useRef } from \"react\";\nimport { Button } from \"@components/ui\";\nimport { uploadImage } from \"@lib/api/upload\";\n\ninterface PhotoUploadProps {\n  value?: string;\n  onChange?: (url: string) => void;\n  disabled?: boolean;\n  text?: string;\n}\n\nexport default function PhotoUpload({ value, onChange, disabled, text }: PhotoUploadProps) {\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  const handleFileChange = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (!file) return;\n    \n    try {\n      // Validate file type and size\n      if (!file.type.startsWith('image/')) {\n        alert('Please select a valid image file.');\n        return;\n      }\n      \n      // Limit file size to 5MB\n      if (file.size > 5 * 1024 * 1024) {\n        alert('File size must be less than 5MB.');\n        return;\n      }\n      \n      const url = await uploadImage(file);\n      onChange?.(url);\n    } catch (error) {\n      console.error('Failed to upload image:', error);\n      alert('Failed to upload image. Please try again.');\n    }\n  };\n\n  return (\n    <div className=\"flex items-center gap-4\">\n      {value && (\n        // eslint-disable-next-line @next/next/no-img-element\n        <img\n          src={value}\n          alt=\"Preview\"\n          className=\"h-20 w-20 rounded-md object-cover\"\n        />\n      )}\n      <div>\n        <Button\n          type=\"button\"\n          variant=\"outline\"\n          onClick={() => inputRef.current?.click()}\n          disabled={disabled}\n          className=\"\n            inline-block max-w-xs h-auto\n            whitespace-normal break-words\n            px-4 py-2\n            text-foreground bg-transparent no-underline\n            transition-colors border-none\n            hover:text-background hover:no-underline hover:bg-brand-from\n            focus:ring-0 \n          \"\n        >\n          {text || \"Upload Photo\"}\n        </Button>\n        <input\n          ref={inputRef}\n          type=\"file\"\n          accept=\"image/*\"\n          capture=\"environment\"\n          onChange={handleFileChange}\n          className=\"hidden\"\n          disabled={disabled}\n        />\n      </div>\n    </div>\n  );\n}\n"],"mappings":";;AAAA,YAAY;;AAAC;AAAAA,MAAA,CAAAC,cAAA,CAAAC,OAAA;EAAAC,KAAA;AAAA;AAAAD,OAAA,CAAAE,OAAA,GAAAC,WAAA;AAEb;AAAA;AAAAC,MAAA,GAAAC,uBAAA,CAAAC,OAAA;AACA;AAAA;AAAAC,GAAA,GAAAD,OAAA;AACA;AAAA;AAAAE,OAAA,GAAAF,OAAA;AAA8C;AAAA,IAAAG,YAAA;AAAA,SAAAJ,wBAAAK,CAAA,EAAAC,CAAA,6BAAAC,OAAA,MAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAP,uBAAA,YAAAA,CAAAK,CAAA,EAAAC,CAAA,SAAAA,CAAA,IAAAD,CAAA,IAAAA,CAAA,CAAAK,UAAA,SAAAL,CAAA,MAAAM,CAAA,EAAAC,CAAA,EAAAC,CAAA,KAAAC,SAAA,QAAAjB,OAAA,EAAAQ,CAAA,iBAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,SAAAQ,CAAA,MAAAF,CAAA,GAAAL,CAAA,GAAAG,CAAA,GAAAD,CAAA,QAAAG,CAAA,CAAAI,GAAA,CAAAV,CAAA,UAAAM,CAAA,CAAAK,GAAA,CAAAX,CAAA,GAAAM,CAAA,CAAAM,GAAA,CAAAZ,CAAA,EAAAQ,CAAA,gBAAAP,CAAA,IAAAD,CAAA,gBAAAC,CAAA,OAAAY,cAAA,CAAAC,IAAA,CAAAd,CAAA,EAAAC,CAAA,OAAAM,CAAA,IAAAD,CAAA,GAAAlB,MAAA,CAAAC,cAAA,KAAAD,MAAA,CAAA2B,wBAAA,CAAAf,CAAA,EAAAC,CAAA,OAAAM,CAAA,CAAAI,GAAA,IAAAJ,CAAA,CAAAK,GAAA,IAAAN,CAAA,CAAAE,CAAA,EAAAP,CAAA,EAAAM,CAAA,IAAAC,CAAA,CAAAP,CAAA,IAAAD,CAAA,CAAAC,CAAA,WAAAO,CAAA,KAAAR,CAAA,EAAAC,CAAA;AAAA,IAAAe,KAAA,GAAAtB,MAAA,CAAAF,OAAA,CAAAyB,aAAA;AAAA,SAAAC,cAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,MAAA,OAAAC,QAAA;EAAA,IAAAC,GAAA;EAAA,IAAAC,YAAA;IAAAL,IAAA;IAAAM,YAAA;MAAA;QAAAC,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAA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","ignoreList":[]}