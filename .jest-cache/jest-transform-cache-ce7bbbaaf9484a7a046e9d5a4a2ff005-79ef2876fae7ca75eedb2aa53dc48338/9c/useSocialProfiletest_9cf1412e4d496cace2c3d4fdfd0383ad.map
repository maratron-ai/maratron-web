{"version":3,"names":["_getJestObj","mock","useSession","jest","fn","_interopRequireDefault","require","_react","_useSocialProfile","_react2","_axios","mockedSession","mockedAxios","axios","profile","id","userId","username","createdAt","Date","updatedAt","describe","afterEach","clearAllMocks","it","mockReturnValue","data","result","renderHook","useSocialProfile","expect","current","toBeNull","loading","toBe","user","get","mockResolvedValue","act","toHaveBeenCalledWith","toEqual"],"sources":["useSocialProfile.test.tsx"],"sourcesContent":["import { renderHook, act } from \"@testing-library/react\";\nimport { useSocialProfile } from \"@hooks/useSocialProfile\";\nimport { useSession } from \"next-auth/react\";\nimport axios from \"axios\";\nimport type { SocialProfile } from \"@maratypes/social\";\n\njest.mock(\"next-auth/react\", () => ({ useSession: jest.fn() }));\njest.mock(\"axios\");\n\nconst mockedSession = useSession as jest.Mock;\nconst mockedAxios = axios as jest.Mocked<typeof axios>;\n\nconst profile: SocialProfile = { id: \"p1\", userId: \"u1\", username: \"runner\", createdAt: new Date(), updatedAt: new Date() } as SocialProfile;\n\ndescribe(\"useSocialProfile\", () => {\n  afterEach(() => jest.clearAllMocks());\n\n  it(\"returns null when no session\", () => {\n    mockedSession.mockReturnValue({ data: null });\n    const { result } = renderHook(() => useSocialProfile());\n    expect(result.current.profile).toBeNull();\n    expect(result.current.loading).toBe(false);\n  });\n\n  it(\"fetches profile\", async () => {\n    mockedSession.mockReturnValue({ data: { user: { id: \"u1\" } } });\n    mockedAxios.get.mockResolvedValue({ data: profile });\n    const { result } = renderHook(() => useSocialProfile());\n    expect(result.current.loading).toBe(true);\n    await act(async () => {});\n    expect(mockedAxios.get).toHaveBeenCalledWith(\"/api/social/profile/byUser/u1\");\n    expect(result.current.profile).toEqual(profile);\n    expect(result.current.loading).toBe(false);\n  });\n});\n"],"mappings":";;AAMAA,WAAA,GAAKC,IAAI,CAAC,iBAAiB,EAAE,OAAO;EAAEC,UAAU,EAAEC,IAAI,CAACC,EAAE,CAAC;AAAE,CAAC,CAAC,CAAC;AAC/DJ,WAAA,GAAKC,IAAI,CAAC,OAAO,CAAC;AAAC,IAAAI,sBAAA,GAAAC,OAAA;AAPnB,IAAAC,MAAA,GAAAD,OAAA;AACA,IAAAE,iBAAA,GAAAF,OAAA;AACA,IAAAG,OAAA,GAAAH,OAAA;AACA,IAAAI,MAAA,GAAAL,sBAAA,CAAAC,OAAA;AAA0B,SAAAN,YAAA;EAAA;IAAAG;EAAA,IAAAG,OAAA;EAAAN,WAAA,GAAAA,CAAA,KAAAG,IAAA;EAAA,OAAAA,IAAA;AAAA;AAM1B,MAAMQ,aAAa,GAAGT,kBAAuB;AAC7C,MAAMU,WAAW,GAAGC,cAAkC;AAEtD,MAAMC,OAAsB,GAAG;EAAEC,EAAE,EAAE,IAAI;EAAEC,MAAM,EAAE,IAAI;EAAEC,QAAQ,EAAE,QAAQ;EAAEC,SAAS,EAAE,IAAIC,IAAI,CAAC,CAAC;EAAEC,SAAS,EAAE,IAAID,IAAI,CAAC;AAAE,CAAkB;AAE5IE,QAAQ,CAAC,kBAAkB,EAAE,MAAM;EACjCC,SAAS,CAAC,MAAMnB,IAAI,CAACoB,aAAa,CAAC,CAAC,CAAC;EAErCC,EAAE,CAAC,8BAA8B,EAAE,MAAM;IACvCb,aAAa,CAACc,eAAe,CAAC;MAAEC,IAAI,EAAE;IAAK,CAAC,CAAC;IAC7C,MAAM;MAAEC;IAAO,CAAC,GAAG,IAAAC,iBAAU,EAAC,MAAM,IAAAC,kCAAgB,EAAC,CAAC,CAAC;IACvDC,MAAM,CAACH,MAAM,CAACI,OAAO,CAACjB,OAAO,CAAC,CAACkB,QAAQ,CAAC,CAAC;IACzCF,MAAM,CAACH,MAAM,CAACI,OAAO,CAACE,OAAO,CAAC,CAACC,IAAI,CAAC,KAAK,CAAC;EAC5C,CAAC,CAAC;EAEFV,EAAE,CAAC,iBAAiB,EAAE,YAAY;IAChCb,aAAa,CAACc,eAAe,CAAC;MAAEC,IAAI,EAAE;QAAES,IAAI,EAAE;UAAEpB,EAAE,EAAE;QAAK;MAAE;IAAE,CAAC,CAAC;IAC/DH,WAAW,CAACwB,GAAG,CAACC,iBAAiB,CAAC;MAAEX,IAAI,EAAEZ;IAAQ,CAAC,CAAC;IACpD,MAAM;MAAEa;IAAO,CAAC,GAAG,IAAAC,iBAAU,EAAC,MAAM,IAAAC,kCAAgB,EAAC,CAAC,CAAC;IACvDC,MAAM,CAACH,MAAM,CAACI,OAAO,CAACE,OAAO,CAAC,CAACC,IAAI,CAAC,IAAI,CAAC;IACzC,MAAM,IAAAI,UAAG,EAAC,YAAY,CAAC,CAAC,CAAC;IACzBR,MAAM,CAAClB,WAAW,CAACwB,GAAG,CAAC,CAACG,oBAAoB,CAAC,+BAA+B,CAAC;IAC7ET,MAAM,CAACH,MAAM,CAACI,OAAO,CAACjB,OAAO,CAAC,CAAC0B,OAAO,CAAC1B,OAAO,CAAC;IAC/CgB,MAAM,CAACH,MAAM,CAACI,OAAO,CAACE,OAAO,CAAC,CAACC,IAAI,CAAC,KAAK,CAAC;EAC5C,CAAC,CAAC;AACJ,CAAC,CAAC","ignoreList":[]}