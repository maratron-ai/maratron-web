16235adc93f1765104732f0366a752f4
/* istanbul ignore next */
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.calculateWeeklyMileage = calculateWeeklyMileage;
function cov_2do2gj6ypz() {
  var path = "/Users/jacksonthetford/Desktop/maratron-monorepo/apps/web/src/lib/utils/running/calculateWeeklyMileage.ts";
  var hash = "7c184403c2c5892919edea961a2d1ebead177ef1";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/jacksonthetford/Desktop/maratron-monorepo/apps/web/src/lib/utils/running/calculateWeeklyMileage.ts",
    statementMap: {
      "0": {
        start: {
          line: 6,
          column: 20
        },
        end: {
          line: 6,
          column: 48
        }
      },
      "1": {
        start: {
          line: 7,
          column: 21
        },
        end: {
          line: 7,
          column: 49
        }
      },
      "2": {
        start: {
          line: 8,
          column: 20
        },
        end: {
          line: 8,
          column: 48
        }
      },
      "3": {
        start: {
          line: 9,
          column: 21
        },
        end: {
          line: 9,
          column: 70
        }
      },
      "4": {
        start: {
          line: 11,
          column: 2
        },
        end: {
          line: 27,
          column: 3
        }
      },
      "5": {
        start: {
          line: 13,
          column: 21
        },
        end: {
          line: 13,
          column: 44
        }
      },
      "6": {
        start: {
          line: 14,
          column: 4
        },
        end: {
          line: 14,
          column: 60
        }
      },
      "7": {
        start: {
          line: 15,
          column: 9
        },
        end: {
          line: 27,
          column: 3
        }
      },
      "8": {
        start: {
          line: 17,
          column: 21
        },
        end: {
          line: 17,
          column: 59
        }
      },
      "9": {
        start: {
          line: 18,
          column: 4
        },
        end: {
          line: 18,
          column: 60
        }
      },
      "10": {
        start: {
          line: 19,
          column: 9
        },
        end: {
          line: 27,
          column: 3
        }
      },
      "11": {
        start: {
          line: 21,
          column: 4
        },
        end: {
          line: 21,
          column: 23
        }
      },
      "12": {
        start: {
          line: 25,
          column: 6
        },
        end: {
          line: 25,
          column: 69
        }
      },
      "13": {
        start: {
          line: 26,
          column: 4
        },
        end: {
          line: 26,
          column: 65
        }
      }
    },
    fnMap: {
      "0": {
        name: "calculateWeeklyMileage",
        decl: {
          start: {
            line: 1,
            column: 16
          },
          end: {
            line: 1,
            column: 38
          }
        },
        loc: {
          start: {
            line: 5,
            column: 10
          },
          end: {
            line: 28,
            column: 1
          }
        },
        line: 5
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 11,
            column: 2
          },
          end: {
            line: 27,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 11,
            column: 2
          },
          end: {
            line: 27,
            column: 3
          }
        }, {
          start: {
            line: 15,
            column: 9
          },
          end: {
            line: 27,
            column: 3
          }
        }],
        line: 11
      },
      "1": {
        loc: {
          start: {
            line: 15,
            column: 9
          },
          end: {
            line: 27,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 15,
            column: 9
          },
          end: {
            line: 27,
            column: 3
          }
        }, {
          start: {
            line: 19,
            column: 9
          },
          end: {
            line: 27,
            column: 3
          }
        }],
        line: 15
      },
      "2": {
        loc: {
          start: {
            line: 19,
            column: 9
          },
          end: {
            line: 27,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 19,
            column: 9
          },
          end: {
            line: 27,
            column: 3
          }
        }, {
          start: {
            line: 22,
            column: 9
          },
          end: {
            line: 27,
            column: 3
          }
        }],
        line: 19
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0
    },
    f: {
      "0": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "7c184403c2c5892919edea961a2d1ebead177ef1"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_2do2gj6ypz = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_2do2gj6ypz();
function calculateWeeklyMileage(currentWeek, totalWeeks, peakMileage) {
  /* istanbul ignore next */
  cov_2do2gj6ypz().f[0]++;
  const baseWeeks =
  /* istanbul ignore next */
  (cov_2do2gj6ypz().s[0]++, Math.floor(totalWeeks * 0.4));
  const buildWeeks =
  /* istanbul ignore next */
  (cov_2do2gj6ypz().s[1]++, Math.floor(totalWeeks * 0.3));
  const peakWeeks =
  /* istanbul ignore next */
  (cov_2do2gj6ypz().s[2]++, Math.floor(totalWeeks * 0.2));
  const taperWeeks =
  /* istanbul ignore next */
  (cov_2do2gj6ypz().s[3]++, totalWeeks - (baseWeeks + buildWeeks + peakWeeks));
  /* istanbul ignore next */
  cov_2do2gj6ypz().s[4]++;
  if (currentWeek <= baseWeeks) {
    /* istanbul ignore next */
    cov_2do2gj6ypz().b[0][0]++;
    // Base phase: mileage increases from 50% to 70% of peak
    const progress =
    /* istanbul ignore next */
    (cov_2do2gj6ypz().s[5]++, currentWeek / baseWeeks);
    /* istanbul ignore next */
    cov_2do2gj6ypz().s[6]++;
    return Math.round(peakMileage * (0.5 + 0.2 * progress));
  } else {
    /* istanbul ignore next */
    cov_2do2gj6ypz().b[0][1]++;
    cov_2do2gj6ypz().s[7]++;
    if (currentWeek <= baseWeeks + buildWeeks) {
      /* istanbul ignore next */
      cov_2do2gj6ypz().b[1][0]++;
      // Build phase: increases from 70% to 90%
      const progress =
      /* istanbul ignore next */
      (cov_2do2gj6ypz().s[8]++, (currentWeek - baseWeeks) / buildWeeks);
      /* istanbul ignore next */
      cov_2do2gj6ypz().s[9]++;
      return Math.round(peakMileage * (0.7 + 0.2 * progress));
    } else {
      /* istanbul ignore next */
      cov_2do2gj6ypz().b[1][1]++;
      cov_2do2gj6ypz().s[10]++;
      if (currentWeek <= baseWeeks + buildWeeks + peakWeeks) {
        /* istanbul ignore next */
        cov_2do2gj6ypz().b[2][0]++;
        cov_2do2gj6ypz().s[11]++;
        // Peak phase: maintain peak mileage
        return peakMileage;
      } else {
        /* istanbul ignore next */
        cov_2do2gj6ypz().b[2][1]++;
        // Taper phase: mileage reduces from 80% down to 50%
        const taperProgress =
        /* istanbul ignore next */
        (cov_2do2gj6ypz().s[12]++, (currentWeek - baseWeeks - buildWeeks - peakWeeks) / taperWeeks);
        /* istanbul ignore next */
        cov_2do2gj6ypz().s[13]++;
        return Math.round(peakMileage * (0.8 - 0.3 * taperProgress));
      }
    }
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMmRvMmdqNnlweiIsImFjdHVhbENvdmVyYWdlIiwiY2FsY3VsYXRlV2Vla2x5TWlsZWFnZSIsImN1cnJlbnRXZWVrIiwidG90YWxXZWVrcyIsInBlYWtNaWxlYWdlIiwiZiIsImJhc2VXZWVrcyIsInMiLCJNYXRoIiwiZmxvb3IiLCJidWlsZFdlZWtzIiwicGVha1dlZWtzIiwidGFwZXJXZWVrcyIsImIiLCJwcm9ncmVzcyIsInJvdW5kIiwidGFwZXJQcm9ncmVzcyJdLCJzb3VyY2VzIjpbImNhbGN1bGF0ZVdlZWtseU1pbGVhZ2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZVdlZWtseU1pbGVhZ2UoXG4gIGN1cnJlbnRXZWVrOiBudW1iZXIsXG4gIHRvdGFsV2Vla3M6IG51bWJlcixcbiAgcGVha01pbGVhZ2U6IG51bWJlclxuKTogbnVtYmVyIHtcbiAgY29uc3QgYmFzZVdlZWtzID0gTWF0aC5mbG9vcih0b3RhbFdlZWtzICogMC40KTtcbiAgY29uc3QgYnVpbGRXZWVrcyA9IE1hdGguZmxvb3IodG90YWxXZWVrcyAqIDAuMyk7XG4gIGNvbnN0IHBlYWtXZWVrcyA9IE1hdGguZmxvb3IodG90YWxXZWVrcyAqIDAuMik7XG4gIGNvbnN0IHRhcGVyV2Vla3MgPSB0b3RhbFdlZWtzIC0gKGJhc2VXZWVrcyArIGJ1aWxkV2Vla3MgKyBwZWFrV2Vla3MpO1xuXG4gIGlmIChjdXJyZW50V2VlayA8PSBiYXNlV2Vla3MpIHtcbiAgICAvLyBCYXNlIHBoYXNlOiBtaWxlYWdlIGluY3JlYXNlcyBmcm9tIDUwJSB0byA3MCUgb2YgcGVha1xuICAgIGNvbnN0IHByb2dyZXNzID0gY3VycmVudFdlZWsgLyBiYXNlV2Vla3M7XG4gICAgcmV0dXJuIE1hdGgucm91bmQocGVha01pbGVhZ2UgKiAoMC41ICsgMC4yICogcHJvZ3Jlc3MpKTtcbiAgfSBlbHNlIGlmIChjdXJyZW50V2VlayA8PSBiYXNlV2Vla3MgKyBidWlsZFdlZWtzKSB7XG4gICAgLy8gQnVpbGQgcGhhc2U6IGluY3JlYXNlcyBmcm9tIDcwJSB0byA5MCVcbiAgICBjb25zdCBwcm9ncmVzcyA9IChjdXJyZW50V2VlayAtIGJhc2VXZWVrcykgLyBidWlsZFdlZWtzO1xuICAgIHJldHVybiBNYXRoLnJvdW5kKHBlYWtNaWxlYWdlICogKDAuNyArIDAuMiAqIHByb2dyZXNzKSk7XG4gIH0gZWxzZSBpZiAoY3VycmVudFdlZWsgPD0gYmFzZVdlZWtzICsgYnVpbGRXZWVrcyArIHBlYWtXZWVrcykge1xuICAgIC8vIFBlYWsgcGhhc2U6IG1haW50YWluIHBlYWsgbWlsZWFnZVxuICAgIHJldHVybiBwZWFrTWlsZWFnZTtcbiAgfSBlbHNlIHtcbiAgICAvLyBUYXBlciBwaGFzZTogbWlsZWFnZSByZWR1Y2VzIGZyb20gODAlIGRvd24gdG8gNTAlXG4gICAgY29uc3QgdGFwZXJQcm9ncmVzcyA9XG4gICAgICAoY3VycmVudFdlZWsgLSBiYXNlV2Vla3MgLSBidWlsZFdlZWtzIC0gcGVha1dlZWtzKSAvIHRhcGVyV2Vla3M7XG4gICAgcmV0dXJuIE1hdGgucm91bmQocGVha01pbGVhZ2UgKiAoMC44IC0gMC4zICogdGFwZXJQcm9ncmVzcykpO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFlWTtJQUFBQSxj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