{"version":3,"names":["_react","_interopRequireWildcard","require","_button","_textarea","_lucideReact","_cn","_jsxFileName","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","__jsx","createElement","ChatInput","onSendMessage","isLoading","disabled","placeholder","message","setMessage","useState","textareaRef","useRef","handleSend","trimmedMessage","trim","current","style","height","handleKeyDown","key","shiftKey","preventDefault","handleInput","target","value","textarea","Math","min","scrollHeight","className","__self","__source","fileName","lineNumber","columnNumber","Textarea","ref","onChange","onKeyDown","cn","rows","Button","onClick","size","Loader2","Send","variant"],"sources":["ChatInput.tsx"],"sourcesContent":["/**\n * ChatInput Component - Input field for chat messages\n */\n\nimport { useState, useRef, KeyboardEvent } from 'react';\nimport { Button } from '@components/ui/button';\nimport { Textarea } from '@components/ui/textarea';\nimport { Send, Loader2 } from 'lucide-react';\nimport { cn } from '@lib/utils/cn';\n\ninterface ChatInputProps {\n  onSendMessage: (message: string) => void;\n  isLoading?: boolean;\n  disabled?: boolean;\n  placeholder?: string;\n}\n\nexport function ChatInput({\n  onSendMessage,\n  isLoading = false,\n  disabled = false,\n  placeholder = \"Ask about your runs, training, or fitness data...\"\n}: ChatInputProps) {\n  const [message, setMessage] = useState('');\n  const textareaRef = useRef<HTMLTextAreaElement>(null);\n\n  const handleSend = () => {\n    const trimmedMessage = message.trim();\n    if (trimmedMessage && !isLoading && !disabled) {\n      onSendMessage(trimmedMessage);\n      setMessage('');\n      // Reset textarea height\n      if (textareaRef.current) {\n        textareaRef.current.style.height = 'auto';\n      }\n    }\n  };\n\n  const handleKeyDown = (e: KeyboardEvent<HTMLTextAreaElement>) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSend();\n    }\n  };\n\n  const handleInput = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\n    setMessage(e.target.value);\n    \n    // Auto-resize textarea\n    const textarea = e.target;\n    textarea.style.height = 'auto';\n    textarea.style.height = `${Math.min(textarea.scrollHeight, 120)}px`;\n  };\n\n  return (\n    <div className=\"border-t bg-background p-4\">\n      <div className=\"flex gap-2 items-end max-w-4xl mx-auto\">\n        <div className=\"flex-1 relative\">\n          <Textarea\n            ref={textareaRef}\n            value={message}\n            onChange={handleInput}\n            onKeyDown={handleKeyDown}\n            placeholder={placeholder}\n            disabled={disabled || isLoading}\n            className={cn(\n              \"min-h-[44px] max-h-[120px] resize-none pr-12\",\n              \"focus-visible:ring-1\"\n            )}\n            rows={1}\n          />\n          <div className=\"absolute right-2 bottom-2\">\n            <Button\n              onClick={handleSend}\n              disabled={!message.trim() || isLoading || disabled}\n              size=\"sm\"\n              className=\"h-8 w-8 p-0\"\n            >\n              {isLoading ? (\n                <Loader2 className=\"h-4 w-4 animate-spin\" />\n              ) : (\n                <Send className=\"h-4 w-4\" />\n              )}\n            </Button>\n          </div>\n        </div>\n      </div>\n      \n      {/* Quick action buttons */}\n      <div className=\"flex gap-2 mt-2 max-w-4xl mx-auto\">\n        <Button\n          variant=\"outline\"\n          size=\"sm\"\n          onClick={() => onSendMessage(\"Show me my recent runs\")}\n          disabled={isLoading || disabled}\n          className=\"text-xs\"\n        >\n          Recent Runs\n        </Button>\n        <Button\n          variant=\"outline\"\n          size=\"sm\"\n          onClick={() => onSendMessage(\"What's my training summary?\")}\n          disabled={isLoading || disabled}\n          className=\"text-xs\"\n        >\n          Training Summary\n        </Button>\n        <Button\n          variant=\"outline\"\n          size=\"sm\"\n          onClick={() => onSendMessage(\"Show me my shoes\")}\n          disabled={isLoading || disabled}\n          className=\"text-xs\"\n        >\n          My Shoes\n        </Button>\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]}