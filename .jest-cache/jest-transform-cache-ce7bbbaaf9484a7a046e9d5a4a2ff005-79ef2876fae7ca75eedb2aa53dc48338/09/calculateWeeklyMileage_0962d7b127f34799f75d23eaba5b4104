27a0c762945749380cf46df491adb9d4
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.calculateWeeklyMileage = calculateWeeklyMileage;
function calculateWeeklyMileage(currentWeek, totalWeeks, peakMileage) {
  const baseWeeks = Math.floor(totalWeeks * 0.4);
  const buildWeeks = Math.floor(totalWeeks * 0.3);
  const peakWeeks = Math.floor(totalWeeks * 0.2);
  const taperWeeks = totalWeeks - (baseWeeks + buildWeeks + peakWeeks);
  if (currentWeek <= baseWeeks) {
    // Base phase: mileage increases from 50% to 70% of peak
    const progress = currentWeek / baseWeeks;
    return Math.round(peakMileage * (0.5 + 0.2 * progress));
  } else if (currentWeek <= baseWeeks + buildWeeks) {
    // Build phase: increases from 70% to 90%
    const progress = (currentWeek - baseWeeks) / buildWeeks;
    return Math.round(peakMileage * (0.7 + 0.2 * progress));
  } else if (currentWeek <= baseWeeks + buildWeeks + peakWeeks) {
    // Peak phase: maintain peak mileage
    return peakMileage;
  } else {
    // Taper phase: mileage reduces from 80% down to 50%
    const taperProgress = (currentWeek - baseWeeks - buildWeeks - peakWeeks) / taperWeeks;
    return Math.round(peakMileage * (0.8 - 0.3 * taperProgress));
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjYWxjdWxhdGVXZWVrbHlNaWxlYWdlIiwiY3VycmVudFdlZWsiLCJ0b3RhbFdlZWtzIiwicGVha01pbGVhZ2UiLCJiYXNlV2Vla3MiLCJNYXRoIiwiZmxvb3IiLCJidWlsZFdlZWtzIiwicGVha1dlZWtzIiwidGFwZXJXZWVrcyIsInByb2dyZXNzIiwicm91bmQiLCJ0YXBlclByb2dyZXNzIl0sInNvdXJjZXMiOlsiY2FsY3VsYXRlV2Vla2x5TWlsZWFnZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlV2Vla2x5TWlsZWFnZShcbiAgY3VycmVudFdlZWs6IG51bWJlcixcbiAgdG90YWxXZWVrczogbnVtYmVyLFxuICBwZWFrTWlsZWFnZTogbnVtYmVyXG4pOiBudW1iZXIge1xuICBjb25zdCBiYXNlV2Vla3MgPSBNYXRoLmZsb29yKHRvdGFsV2Vla3MgKiAwLjQpO1xuICBjb25zdCBidWlsZFdlZWtzID0gTWF0aC5mbG9vcih0b3RhbFdlZWtzICogMC4zKTtcbiAgY29uc3QgcGVha1dlZWtzID0gTWF0aC5mbG9vcih0b3RhbFdlZWtzICogMC4yKTtcbiAgY29uc3QgdGFwZXJXZWVrcyA9IHRvdGFsV2Vla3MgLSAoYmFzZVdlZWtzICsgYnVpbGRXZWVrcyArIHBlYWtXZWVrcyk7XG5cbiAgaWYgKGN1cnJlbnRXZWVrIDw9IGJhc2VXZWVrcykge1xuICAgIC8vIEJhc2UgcGhhc2U6IG1pbGVhZ2UgaW5jcmVhc2VzIGZyb20gNTAlIHRvIDcwJSBvZiBwZWFrXG4gICAgY29uc3QgcHJvZ3Jlc3MgPSBjdXJyZW50V2VlayAvIGJhc2VXZWVrcztcbiAgICByZXR1cm4gTWF0aC5yb3VuZChwZWFrTWlsZWFnZSAqICgwLjUgKyAwLjIgKiBwcm9ncmVzcykpO1xuICB9IGVsc2UgaWYgKGN1cnJlbnRXZWVrIDw9IGJhc2VXZWVrcyArIGJ1aWxkV2Vla3MpIHtcbiAgICAvLyBCdWlsZCBwaGFzZTogaW5jcmVhc2VzIGZyb20gNzAlIHRvIDkwJVxuICAgIGNvbnN0IHByb2dyZXNzID0gKGN1cnJlbnRXZWVrIC0gYmFzZVdlZWtzKSAvIGJ1aWxkV2Vla3M7XG4gICAgcmV0dXJuIE1hdGgucm91bmQocGVha01pbGVhZ2UgKiAoMC43ICsgMC4yICogcHJvZ3Jlc3MpKTtcbiAgfSBlbHNlIGlmIChjdXJyZW50V2VlayA8PSBiYXNlV2Vla3MgKyBidWlsZFdlZWtzICsgcGVha1dlZWtzKSB7XG4gICAgLy8gUGVhayBwaGFzZTogbWFpbnRhaW4gcGVhayBtaWxlYWdlXG4gICAgcmV0dXJuIHBlYWtNaWxlYWdlO1xuICB9IGVsc2Uge1xuICAgIC8vIFRhcGVyIHBoYXNlOiBtaWxlYWdlIHJlZHVjZXMgZnJvbSA4MCUgZG93biB0byA1MCVcbiAgICBjb25zdCB0YXBlclByb2dyZXNzID1cbiAgICAgIChjdXJyZW50V2VlayAtIGJhc2VXZWVrcyAtIGJ1aWxkV2Vla3MgLSBwZWFrV2Vla3MpIC8gdGFwZXJXZWVrcztcbiAgICByZXR1cm4gTWF0aC5yb3VuZChwZWFrTWlsZWFnZSAqICgwLjggLSAwLjMgKiB0YXBlclByb2dyZXNzKSk7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQU8sU0FBU0Esc0JBQXNCQSxDQUNwQ0MsV0FBbUIsRUFDbkJDLFVBQWtCLEVBQ2xCQyxXQUFtQixFQUNYO0VBQ1IsTUFBTUMsU0FBUyxHQUFHQyxJQUFJLENBQUNDLEtBQUssQ0FBQ0osVUFBVSxHQUFHLEdBQUcsQ0FBQztFQUM5QyxNQUFNSyxVQUFVLEdBQUdGLElBQUksQ0FBQ0MsS0FBSyxDQUFDSixVQUFVLEdBQUcsR0FBRyxDQUFDO0VBQy9DLE1BQU1NLFNBQVMsR0FBR0gsSUFBSSxDQUFDQyxLQUFLLENBQUNKLFVBQVUsR0FBRyxHQUFHLENBQUM7RUFDOUMsTUFBTU8sVUFBVSxHQUFHUCxVQUFVLElBQUlFLFNBQVMsR0FBR0csVUFBVSxHQUFHQyxTQUFTLENBQUM7RUFFcEUsSUFBSVAsV0FBVyxJQUFJRyxTQUFTLEVBQUU7SUFDNUI7SUFDQSxNQUFNTSxRQUFRLEdBQUdULFdBQVcsR0FBR0csU0FBUztJQUN4QyxPQUFPQyxJQUFJLENBQUNNLEtBQUssQ0FBQ1IsV0FBVyxJQUFJLEdBQUcsR0FBRyxHQUFHLEdBQUdPLFFBQVEsQ0FBQyxDQUFDO0VBQ3pELENBQUMsTUFBTSxJQUFJVCxXQUFXLElBQUlHLFNBQVMsR0FBR0csVUFBVSxFQUFFO0lBQ2hEO0lBQ0EsTUFBTUcsUUFBUSxHQUFHLENBQUNULFdBQVcsR0FBR0csU0FBUyxJQUFJRyxVQUFVO0lBQ3ZELE9BQU9GLElBQUksQ0FBQ00sS0FBSyxDQUFDUixXQUFXLElBQUksR0FBRyxHQUFHLEdBQUcsR0FBR08sUUFBUSxDQUFDLENBQUM7RUFDekQsQ0FBQyxNQUFNLElBQUlULFdBQVcsSUFBSUcsU0FBUyxHQUFHRyxVQUFVLEdBQUdDLFNBQVMsRUFBRTtJQUM1RDtJQUNBLE9BQU9MLFdBQVc7RUFDcEIsQ0FBQyxNQUFNO0lBQ0w7SUFDQSxNQUFNUyxhQUFhLEdBQ2pCLENBQUNYLFdBQVcsR0FBR0csU0FBUyxHQUFHRyxVQUFVLEdBQUdDLFNBQVMsSUFBSUMsVUFBVTtJQUNqRSxPQUFPSixJQUFJLENBQUNNLEtBQUssQ0FBQ1IsV0FBVyxJQUFJLEdBQUcsR0FBRyxHQUFHLEdBQUdTLGFBQWEsQ0FBQyxDQUFDO0VBQzlEO0FBQ0YiLCJpZ25vcmVMaXN0IjpbXX0=