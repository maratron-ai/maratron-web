be85e0c4233e4ca58402b890b0a59f38
"use strict";
/**
 * ChatInterface Component - Main chat interface
 */

'use client';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ChatInterface = ChatInterface;
var _react = _interopRequireWildcard(require("react"));
var _react2 = require("next-auth/react");
var _card = require("@components/ui/card");
var _alert = require("@components/ui/alert");
var _separator = require("@components/ui/separator");
var _badge = require("@components/ui/badge");
var _ChatMessage = require("./ChatMessage");
var _ChatInput = require("./ChatInput");
var _lucideReact = require("lucide-react");
var _cn = require("@lib/utils/cn");
var _jsxFileName = "/Users/jacksonthetford/Desktop/maratron-monorepo/apps/web/src/components/chat/ChatInterface.tsx"; // import { ScrollArea } from '@components/ui/scroll-area';
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function (e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (const t in e) "default" !== t && {}.hasOwnProperty.call(e, t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, t)) && (i.get || i.set) ? o(f, t, i) : f[t] = e[t]); return f; })(e, t); }
var __jsx = _react.default.createElement;
function ChatInterface({
  className
}) {
  const {
    data: session,
    status
  } = (0, _react2.useSession)();
  const scrollAreaRef = (0, _react.useRef)(null);
  const {
    0: isInitialized,
    1: setIsInitialized
  } = (0, _react.useState)(false);
  const {
    0: messages,
    1: setMessages
  } = (0, _react.useState)([]);
  const {
    0: isLoading,
    1: setIsLoading
  } = (0, _react.useState)(false);
  const {
    0: error,
    1: setError
  } = (0, _react.useState)(null);
  const append = (0, _react.useCallback)(async message => {
    const fullMessage = {
      id: Date.now().toString(),
      role: message.role,
      content: message.content,
      timestamp: new Date()
    };
    const newMessages = [...messages, fullMessage];
    setMessages(newMessages);
    if (message.role === 'user') {
      setIsLoading(true);
      setError(null);
      try {
        const response = await fetch('/api/chat', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({
            messages: newMessages
          })
        });
        if (!response.ok) {
          throw new Error('Chat request failed');
        }
        const responseData = await response.json();
        const assistantMessage = {
          id: Date.now().toString() + '_assistant',
          role: 'assistant',
          content: responseData.content || responseData.message || 'No response',
          timestamp: new Date()
        };
        setMessages([...newMessages, assistantMessage]);
      } catch (err) {
        setError(err);
      } finally {
        setIsLoading(false);
      }
    }
  }, [messages]);

  // Auto-scroll to bottom when new messages arrive
  (0, _react.useEffect)(() => {
    if (scrollAreaRef.current && messages.length > 0) {
      scrollAreaRef.current.scrollTop = scrollAreaRef.current.scrollHeight;
    }
  }, [messages]);

  // Initialize chat with welcome message
  (0, _react.useEffect)(() => {
    if (session?.user && !isInitialized && messages.length === 0) {
      const welcomeMessage = `Hello ${session.user.name || 'there'}! 👋 

I'm your Maratron AI assistant. I can help you with:

🏃‍♂️ **Analyzing your runs** - View recent activities, pace trends, and performance insights
👟 **Managing your shoes** - Track mileage and get retirement recommendations  
📊 **Training insights** - Get personalized advice based on your data
🎯 **Goal setting** - Plan your next race or fitness milestone

What would you like to know about your training?`;
      append({
        role: 'assistant',
        content: welcomeMessage
      });
      setIsInitialized(true);
    }
  }, [session, isInitialized, messages.length, append]);
  const handleSendMessage = async message => {
    await append({
      role: 'user',
      content: message
    });
  };
  if (status === 'loading') {
    return __jsx(_card.Card, {
      className: (0, _cn.cn)('flex-1 flex flex-col', className),
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 117,
        columnNumber: 7
      }
    }, __jsx(_card.CardContent, {
      className: "flex-1 flex items-center justify-center",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 118,
        columnNumber: 9
      }
    }, __jsx("div", {
      className: "text-center space-y-2",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 119,
        columnNumber: 11
      }
    }, __jsx(_lucideReact.Bot, {
      className: "h-8 w-8 mx-auto text-muted-foreground animate-pulse",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 120,
        columnNumber: 13
      }
    }), __jsx("p", {
      className: "text-sm text-muted-foreground",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 121,
        columnNumber: 13
      }
    }, "Loading..."))));
  }
  if (status === 'unauthenticated') {
    return __jsx(_card.Card, {
      className: (0, _cn.cn)('flex-1 flex flex-col', className),
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 130,
        columnNumber: 7
      }
    }, __jsx(_card.CardContent, {
      className: "flex-1 flex items-center justify-center",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 131,
        columnNumber: 9
      }
    }, __jsx(_alert.Alert, {
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 132,
        columnNumber: 11
      }
    }, __jsx(_lucideReact.AlertCircle, {
      className: "h-4 w-4",
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 133,
        columnNumber: 13
      }
    }), __jsx(_alert.AlertDescription, {
      __self: this,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 134,
        columnNumber: 13
      }
    }, "Please sign in to access the Maratron AI assistant."))));
  }
  return __jsx(_card.Card, {
    className: (0, _cn.cn)('flex-1 flex flex-col h-full min-h-0', className),
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 144,
      columnNumber: 5
    }
  }, __jsx(_card.CardHeader, {
    className: "pb-3 flex-shrink-0",
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 146,
      columnNumber: 7
    }
  }, __jsx("div", {
    className: "flex items-center justify-between",
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 147,
      columnNumber: 9
    }
  }, __jsx("div", {
    className: "flex items-center gap-2",
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 148,
      columnNumber: 11
    }
  }, __jsx("div", {
    className: "flex items-center gap-2",
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 149,
      columnNumber: 13
    }
  }, __jsx(_lucideReact.Bot, {
    className: "h-5 w-5 text-primary",
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 150,
      columnNumber: 15
    }
  }), __jsx(_card.CardTitle, {
    className: "text-lg",
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 151,
      columnNumber: 15
    }
  }, "Maratron AI")), __jsx(_badge.Badge, {
    variant: "secondary",
    className: "text-xs",
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 153,
      columnNumber: 13
    }
  }, __jsx(_lucideReact.Sparkles, {
    className: "h-3 w-3 mr-1",
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 154,
      columnNumber: 15
    }
  }), "Beta")), __jsx("div", {
    className: "flex items-center gap-2 text-sm text-muted-foreground",
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 158,
      columnNumber: 11
    }
  }, __jsx(_lucideReact.Activity, {
    className: "h-4 w-4",
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 159,
      columnNumber: 13
    }
  }), __jsx("span", {
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 160,
      columnNumber: 13
    }
  }, "Connected"))), __jsx(_separator.Separator, {
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 163,
      columnNumber: 9
    }
  })), __jsx(_card.CardContent, {
    className: "flex-1 flex flex-col p-0 min-h-0",
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 167,
      columnNumber: 7
    }
  }, __jsx("div", {
    ref: scrollAreaRef,
    className: "flex-1 overflow-y-auto min-h-0 max-h-full",
    style: {
      height: '100%'
    },
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 168,
      columnNumber: 9
    }
  }, __jsx("div", {
    className: "space-y-1",
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 173,
      columnNumber: 11
    }
  }, messages.map((message, index) => __jsx(_ChatMessage.ChatMessage, {
    key: message.id || index,
    role: message.role,
    content: message.content,
    timestamp: new Date(),
    isLoading: isLoading && index === messages.length - 1 && message.role === 'assistant',
    toolCalls: message.toolCalls,
    avatarUrl: session?.user?.image,
    userName: session?.user?.name,
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 175,
      columnNumber: 15
    }
  })), isLoading && messages[messages.length - 1]?.role === 'user' && __jsx(_ChatMessage.ChatMessage, {
    role: "assistant",
    content: "",
    isLoading: true,
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 189,
      columnNumber: 15
    }
  }))), error && __jsx("div", {
    className: "p-4 border-t flex-shrink-0",
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 200,
      columnNumber: 11
    }
  }, __jsx(_alert.Alert, {
    variant: "destructive",
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 201,
      columnNumber: 13
    }
  }, __jsx(_lucideReact.AlertCircle, {
    className: "h-4 w-4",
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 202,
      columnNumber: 15
    }
  }), __jsx(_alert.AlertDescription, {
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 203,
      columnNumber: 15
    }
  }, error.message || 'Something went wrong. Please try again.'))), __jsx("div", {
    className: "flex-shrink-0",
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 211,
      columnNumber: 9
    }
  }, __jsx(_ChatInput.ChatInput, {
    onSendMessage: handleSendMessage,
    isLoading: isLoading,
    disabled: !!error,
    __self: this,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 212,
      columnNumber: 11
    }
  }))));
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIkNoYXRJbnRlcmZhY2UiLCJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfcmVhY3QyIiwiX2NhcmQiLCJfYWxlcnQiLCJfc2VwYXJhdG9yIiwiX2JhZGdlIiwiX0NoYXRNZXNzYWdlIiwiX0NoYXRJbnB1dCIsIl9sdWNpZGVSZWFjdCIsIl9jbiIsIl9qc3hGaWxlTmFtZSIsImUiLCJ0IiwiV2Vha01hcCIsInIiLCJuIiwiX19lc01vZHVsZSIsIm8iLCJpIiwiZiIsIl9fcHJvdG9fXyIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJzZXQiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJfX2pzeCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJkYXRhIiwic2Vzc2lvbiIsInN0YXR1cyIsInVzZVNlc3Npb24iLCJzY3JvbGxBcmVhUmVmIiwidXNlUmVmIiwiaXNJbml0aWFsaXplZCIsInNldElzSW5pdGlhbGl6ZWQiLCJ1c2VTdGF0ZSIsIm1lc3NhZ2VzIiwic2V0TWVzc2FnZXMiLCJpc0xvYWRpbmciLCJzZXRJc0xvYWRpbmciLCJlcnJvciIsInNldEVycm9yIiwiYXBwZW5kIiwidXNlQ2FsbGJhY2siLCJtZXNzYWdlIiwiZnVsbE1lc3NhZ2UiLCJpZCIsIkRhdGUiLCJub3ciLCJ0b1N0cmluZyIsInJvbGUiLCJjb250ZW50IiwidGltZXN0YW1wIiwibmV3TWVzc2FnZXMiLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5Iiwib2siLCJFcnJvciIsInJlc3BvbnNlRGF0YSIsImpzb24iLCJhc3Npc3RhbnRNZXNzYWdlIiwiZXJyIiwidXNlRWZmZWN0IiwiY3VycmVudCIsImxlbmd0aCIsInNjcm9sbFRvcCIsInNjcm9sbEhlaWdodCIsInVzZXIiLCJ3ZWxjb21lTWVzc2FnZSIsIm5hbWUiLCJoYW5kbGVTZW5kTWVzc2FnZSIsIkNhcmQiLCJjbiIsIl9fc2VsZiIsIl9fc291cmNlIiwiZmlsZU5hbWUiLCJsaW5lTnVtYmVyIiwiY29sdW1uTnVtYmVyIiwiQ2FyZENvbnRlbnQiLCJCb3QiLCJBbGVydCIsIkFsZXJ0Q2lyY2xlIiwiQWxlcnREZXNjcmlwdGlvbiIsIkNhcmRIZWFkZXIiLCJDYXJkVGl0bGUiLCJCYWRnZSIsInZhcmlhbnQiLCJTcGFya2xlcyIsIkFjdGl2aXR5IiwiU2VwYXJhdG9yIiwicmVmIiwic3R5bGUiLCJoZWlnaHQiLCJtYXAiLCJpbmRleCIsIkNoYXRNZXNzYWdlIiwia2V5IiwidG9vbENhbGxzIiwiYXZhdGFyVXJsIiwiaW1hZ2UiLCJ1c2VyTmFtZSIsIkNoYXRJbnB1dCIsIm9uU2VuZE1lc3NhZ2UiLCJkaXNhYmxlZCJdLCJzb3VyY2VzIjpbIkNoYXRJbnRlcmZhY2UudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ2hhdEludGVyZmFjZSBDb21wb25lbnQgLSBNYWluIGNoYXQgaW50ZXJmYWNlXG4gKi9cblxuJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlU2Vzc2lvbiB9IGZyb20gJ25leHQtYXV0aC9yZWFjdCc7XG5pbXBvcnQgeyBDYXJkLCBDYXJkQ29udGVudCwgQ2FyZEhlYWRlciwgQ2FyZFRpdGxlIH0gZnJvbSAnQGNvbXBvbmVudHMvdWkvY2FyZCc7XG4vLyBpbXBvcnQgeyBTY3JvbGxBcmVhIH0gZnJvbSAnQGNvbXBvbmVudHMvdWkvc2Nyb2xsLWFyZWEnO1xuaW1wb3J0IHsgQWxlcnQsIEFsZXJ0RGVzY3JpcHRpb24gfSBmcm9tICdAY29tcG9uZW50cy91aS9hbGVydCc7XG5pbXBvcnQgeyBTZXBhcmF0b3IgfSBmcm9tICdAY29tcG9uZW50cy91aS9zZXBhcmF0b3InO1xuaW1wb3J0IHsgQmFkZ2UgfSBmcm9tICdAY29tcG9uZW50cy91aS9iYWRnZSc7XG5pbXBvcnQgeyBDaGF0TWVzc2FnZSB9IGZyb20gJy4vQ2hhdE1lc3NhZ2UnO1xuaW1wb3J0IHsgQ2hhdElucHV0IH0gZnJvbSAnLi9DaGF0SW5wdXQnO1xuaW1wb3J0IHsgQm90LCBBbGVydENpcmNsZSwgU3BhcmtsZXMsIEFjdGl2aXR5IH0gZnJvbSAnbHVjaWRlLXJlYWN0JztcbmltcG9ydCB7IGNuIH0gZnJvbSAnQGxpYi91dGlscy9jbic7XG5cbmludGVyZmFjZSBDaGF0SW50ZXJmYWNlUHJvcHMge1xuICBjbGFzc05hbWU/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBDaGF0SW50ZXJmYWNlKHsgY2xhc3NOYW1lIH06IENoYXRJbnRlcmZhY2VQcm9wcykge1xuICBjb25zdCB7IGRhdGE6IHNlc3Npb24sIHN0YXR1cyB9ID0gdXNlU2Vzc2lvbigpO1xuICBjb25zdCBzY3JvbGxBcmVhUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcbiAgY29uc3QgW2lzSW5pdGlhbGl6ZWQsIHNldElzSW5pdGlhbGl6ZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIGNvbnN0IFttZXNzYWdlcywgc2V0TWVzc2FnZXNdID0gdXNlU3RhdGU8QXJyYXk8e1xuICAgIGlkOiBzdHJpbmc7XG4gICAgcm9sZTogJ3VzZXInIHwgJ2Fzc2lzdGFudCcgfCAnc3lzdGVtJztcbiAgICBjb250ZW50OiBzdHJpbmc7XG4gICAgdGltZXN0YW1wOiBEYXRlO1xuICAgIHRvb2xDYWxscz86IEFycmF5PHsgbmFtZTogc3RyaW5nOyBhcmd1bWVudHM6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IH0+O1xuICB9Pj4oW10pO1xuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlPEVycm9yIHwgbnVsbD4obnVsbCk7XG5cbiAgY29uc3QgYXBwZW5kID0gdXNlQ2FsbGJhY2soYXN5bmMgKG1lc3NhZ2U6IHsgcm9sZTogc3RyaW5nOyBjb250ZW50OiBzdHJpbmcgfSkgPT4ge1xuICAgIGNvbnN0IGZ1bGxNZXNzYWdlID0ge1xuICAgICAgaWQ6IERhdGUubm93KCkudG9TdHJpbmcoKSxcbiAgICAgIHJvbGU6IG1lc3NhZ2Uucm9sZSBhcyAndXNlcicgfCAnYXNzaXN0YW50JyB8ICdzeXN0ZW0nLFxuICAgICAgY29udGVudDogbWVzc2FnZS5jb250ZW50LFxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpXG4gICAgfTtcbiAgICBjb25zdCBuZXdNZXNzYWdlcyA9IFsuLi5tZXNzYWdlcywgZnVsbE1lc3NhZ2VdO1xuICAgIHNldE1lc3NhZ2VzKG5ld01lc3NhZ2VzKTtcbiAgICBcbiAgICBpZiAobWVzc2FnZS5yb2xlID09PSAndXNlcicpIHtcbiAgICAgIHNldElzTG9hZGluZyh0cnVlKTtcbiAgICAgIHNldEVycm9yKG51bGwpO1xuICAgICAgXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2NoYXQnLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBtZXNzYWdlczogbmV3TWVzc2FnZXMgfSksXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2hhdCByZXF1ZXN0IGZhaWxlZCcpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCByZXNwb25zZURhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGNvbnN0IGFzc2lzdGFudE1lc3NhZ2UgPSB7XG4gICAgICAgICAgaWQ6IERhdGUubm93KCkudG9TdHJpbmcoKSArICdfYXNzaXN0YW50JyxcbiAgICAgICAgICByb2xlOiAnYXNzaXN0YW50JyBhcyBjb25zdCxcbiAgICAgICAgICBjb250ZW50OiByZXNwb25zZURhdGEuY29udGVudCB8fCByZXNwb25zZURhdGEubWVzc2FnZSB8fCAnTm8gcmVzcG9uc2UnLFxuICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKVxuICAgICAgICB9O1xuICAgICAgICBzZXRNZXNzYWdlcyhbLi4ubmV3TWVzc2FnZXMsIGFzc2lzdGFudE1lc3NhZ2VdKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBzZXRFcnJvcihlcnIgYXMgRXJyb3IpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFttZXNzYWdlc10pO1xuXG4gIC8vIEF1dG8tc2Nyb2xsIHRvIGJvdHRvbSB3aGVuIG5ldyBtZXNzYWdlcyBhcnJpdmVcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoc2Nyb2xsQXJlYVJlZi5jdXJyZW50ICYmIG1lc3NhZ2VzLmxlbmd0aCA+IDApIHtcbiAgICAgIHNjcm9sbEFyZWFSZWYuY3VycmVudC5zY3JvbGxUb3AgPSBzY3JvbGxBcmVhUmVmLmN1cnJlbnQuc2Nyb2xsSGVpZ2h0O1xuICAgIH1cbiAgfSwgW21lc3NhZ2VzXSk7XG5cbiAgLy8gSW5pdGlhbGl6ZSBjaGF0IHdpdGggd2VsY29tZSBtZXNzYWdlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHNlc3Npb24/LnVzZXIgJiYgIWlzSW5pdGlhbGl6ZWQgJiYgbWVzc2FnZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICBjb25zdCB3ZWxjb21lTWVzc2FnZSA9IGBIZWxsbyAke3Nlc3Npb24udXNlci5uYW1lIHx8ICd0aGVyZSd9ISDwn5GLIFxuXG5JJ20geW91ciBNYXJhdHJvbiBBSSBhc3Npc3RhbnQuIEkgY2FuIGhlbHAgeW91IHdpdGg6XG5cbvCfj4PigI3imYLvuI8gKipBbmFseXppbmcgeW91ciBydW5zKiogLSBWaWV3IHJlY2VudCBhY3Rpdml0aWVzLCBwYWNlIHRyZW5kcywgYW5kIHBlcmZvcm1hbmNlIGluc2lnaHRzXG7wn5GfICoqTWFuYWdpbmcgeW91ciBzaG9lcyoqIC0gVHJhY2sgbWlsZWFnZSBhbmQgZ2V0IHJldGlyZW1lbnQgcmVjb21tZW5kYXRpb25zICBcbvCfk4ogKipUcmFpbmluZyBpbnNpZ2h0cyoqIC0gR2V0IHBlcnNvbmFsaXplZCBhZHZpY2UgYmFzZWQgb24geW91ciBkYXRhXG7wn46vICoqR29hbCBzZXR0aW5nKiogLSBQbGFuIHlvdXIgbmV4dCByYWNlIG9yIGZpdG5lc3MgbWlsZXN0b25lXG5cbldoYXQgd291bGQgeW91IGxpa2UgdG8ga25vdyBhYm91dCB5b3VyIHRyYWluaW5nP2A7XG5cbiAgICAgIGFwcGVuZCh7XG4gICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICBjb250ZW50OiB3ZWxjb21lTWVzc2FnZVxuICAgICAgfSk7XG4gICAgICBzZXRJc0luaXRpYWxpemVkKHRydWUpO1xuICAgIH1cbiAgfSwgW3Nlc3Npb24sIGlzSW5pdGlhbGl6ZWQsIG1lc3NhZ2VzLmxlbmd0aCwgYXBwZW5kXSk7XG5cbiAgY29uc3QgaGFuZGxlU2VuZE1lc3NhZ2UgPSBhc3luYyAobWVzc2FnZTogc3RyaW5nKSA9PiB7XG4gICAgYXdhaXQgYXBwZW5kKHtcbiAgICAgIHJvbGU6ICd1c2VyJyxcbiAgICAgIGNvbnRlbnQ6IG1lc3NhZ2VcbiAgICB9KTtcbiAgfTtcblxuICBpZiAoc3RhdHVzID09PSAnbG9hZGluZycpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPENhcmQgY2xhc3NOYW1lPXtjbignZmxleC0xIGZsZXggZmxleC1jb2wnLCBjbGFzc05hbWUpfT5cbiAgICAgICAgPENhcmRDb250ZW50IGNsYXNzTmFtZT1cImZsZXgtMSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgc3BhY2UteS0yXCI+XG4gICAgICAgICAgICA8Qm90IGNsYXNzTmFtZT1cImgtOCB3LTggbXgtYXV0byB0ZXh0LW11dGVkLWZvcmVncm91bmQgYW5pbWF0ZS1wdWxzZVwiIC8+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPkxvYWRpbmcuLi48L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvQ2FyZENvbnRlbnQ+XG4gICAgICA8L0NhcmQ+XG4gICAgKTtcbiAgfVxuXG4gIGlmIChzdGF0dXMgPT09ICd1bmF1dGhlbnRpY2F0ZWQnKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxDYXJkIGNsYXNzTmFtZT17Y24oJ2ZsZXgtMSBmbGV4IGZsZXgtY29sJywgY2xhc3NOYW1lKX0+XG4gICAgICAgIDxDYXJkQ29udGVudCBjbGFzc05hbWU9XCJmbGV4LTEgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICA8QWxlcnQ+XG4gICAgICAgICAgICA8QWxlcnRDaXJjbGUgY2xhc3NOYW1lPVwiaC00IHctNFwiIC8+XG4gICAgICAgICAgICA8QWxlcnREZXNjcmlwdGlvbj5cbiAgICAgICAgICAgICAgUGxlYXNlIHNpZ24gaW4gdG8gYWNjZXNzIHRoZSBNYXJhdHJvbiBBSSBhc3Npc3RhbnQuXG4gICAgICAgICAgICA8L0FsZXJ0RGVzY3JpcHRpb24+XG4gICAgICAgICAgPC9BbGVydD5cbiAgICAgICAgPC9DYXJkQ29udGVudD5cbiAgICAgIDwvQ2FyZD5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8Q2FyZCBjbGFzc05hbWU9e2NuKCdmbGV4LTEgZmxleCBmbGV4LWNvbCBoLWZ1bGwgbWluLWgtMCcsIGNsYXNzTmFtZSl9PlxuICAgICAgey8qIEhlYWRlciAqL31cbiAgICAgIDxDYXJkSGVhZGVyIGNsYXNzTmFtZT1cInBiLTMgZmxleC1zaHJpbmstMFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgPEJvdCBjbGFzc05hbWU9XCJoLTUgdy01IHRleHQtcHJpbWFyeVwiIC8+XG4gICAgICAgICAgICAgIDxDYXJkVGl0bGUgY2xhc3NOYW1lPVwidGV4dC1sZ1wiPk1hcmF0cm9uIEFJPC9DYXJkVGl0bGU+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxCYWRnZSB2YXJpYW50PVwic2Vjb25kYXJ5XCIgY2xhc3NOYW1lPVwidGV4dC14c1wiPlxuICAgICAgICAgICAgICA8U3BhcmtsZXMgY2xhc3NOYW1lPVwiaC0zIHctMyBtci0xXCIgLz5cbiAgICAgICAgICAgICAgQmV0YVxuICAgICAgICAgICAgPC9CYWRnZT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtc20gdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCI+XG4gICAgICAgICAgICA8QWN0aXZpdHkgY2xhc3NOYW1lPVwiaC00IHctNFwiIC8+XG4gICAgICAgICAgICA8c3Bhbj5Db25uZWN0ZWQ8L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8U2VwYXJhdG9yIC8+XG4gICAgICA8L0NhcmRIZWFkZXI+XG5cbiAgICAgIHsvKiBNZXNzYWdlcyAqL31cbiAgICAgIDxDYXJkQ29udGVudCBjbGFzc05hbWU9XCJmbGV4LTEgZmxleCBmbGV4LWNvbCBwLTAgbWluLWgtMFwiPlxuICAgICAgICA8ZGl2IFxuICAgICAgICAgIHJlZj17c2Nyb2xsQXJlYVJlZn1cbiAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgb3ZlcmZsb3cteS1hdXRvIG1pbi1oLTAgbWF4LWgtZnVsbFwiXG4gICAgICAgICAgc3R5bGU9e3sgaGVpZ2h0OiAnMTAwJScgfX1cbiAgICAgICAgPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0xXCI+XG4gICAgICAgICAgICB7bWVzc2FnZXMubWFwKChtZXNzYWdlLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICA8Q2hhdE1lc3NhZ2VcbiAgICAgICAgICAgICAgICBrZXk9e21lc3NhZ2UuaWQgfHwgaW5kZXh9XG4gICAgICAgICAgICAgICAgcm9sZT17bWVzc2FnZS5yb2xlfVxuICAgICAgICAgICAgICAgIGNvbnRlbnQ9e21lc3NhZ2UuY29udGVudH1cbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA9e25ldyBEYXRlKCl9XG4gICAgICAgICAgICAgICAgaXNMb2FkaW5nPXtpc0xvYWRpbmcgJiYgaW5kZXggPT09IG1lc3NhZ2VzLmxlbmd0aCAtIDEgJiYgbWVzc2FnZS5yb2xlID09PSAnYXNzaXN0YW50J31cbiAgICAgICAgICAgICAgICB0b29sQ2FsbHM9e21lc3NhZ2UudG9vbENhbGxzfVxuICAgICAgICAgICAgICAgIGF2YXRhclVybD17c2Vzc2lvbj8udXNlcj8uaW1hZ2V9XG4gICAgICAgICAgICAgICAgdXNlck5hbWU9e3Nlc3Npb24/LnVzZXI/Lm5hbWV9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgey8qIExvYWRpbmcgaW5kaWNhdG9yIGZvciBuZXcgbWVzc2FnZXMgKi99XG4gICAgICAgICAgICB7aXNMb2FkaW5nICYmIG1lc3NhZ2VzW21lc3NhZ2VzLmxlbmd0aCAtIDFdPy5yb2xlID09PSAndXNlcicgJiYgKFxuICAgICAgICAgICAgICA8Q2hhdE1lc3NhZ2VcbiAgICAgICAgICAgICAgICByb2xlPVwiYXNzaXN0YW50XCJcbiAgICAgICAgICAgICAgICBjb250ZW50PVwiXCJcbiAgICAgICAgICAgICAgICBpc0xvYWRpbmc9e3RydWV9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7LyogRXJyb3IgZGlzcGxheSAqL31cbiAgICAgICAge2Vycm9yICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNCBib3JkZXItdCBmbGV4LXNocmluay0wXCI+XG4gICAgICAgICAgICA8QWxlcnQgdmFyaWFudD1cImRlc3RydWN0aXZlXCI+XG4gICAgICAgICAgICAgIDxBbGVydENpcmNsZSBjbGFzc05hbWU9XCJoLTQgdy00XCIgLz5cbiAgICAgICAgICAgICAgPEFsZXJ0RGVzY3JpcHRpb24+XG4gICAgICAgICAgICAgICAge2Vycm9yLm1lc3NhZ2UgfHwgJ1NvbWV0aGluZyB3ZW50IHdyb25nLiBQbGVhc2UgdHJ5IGFnYWluLid9XG4gICAgICAgICAgICAgIDwvQWxlcnREZXNjcmlwdGlvbj5cbiAgICAgICAgICAgIDwvQWxlcnQ+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG5cbiAgICAgICAgey8qIElucHV0ICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtc2hyaW5rLTBcIj5cbiAgICAgICAgICA8Q2hhdElucHV0XG4gICAgICAgICAgICBvblNlbmRNZXNzYWdlPXtoYW5kbGVTZW5kTWVzc2FnZX1cbiAgICAgICAgICAgIGlzTG9hZGluZz17aXNMb2FkaW5nfVxuICAgICAgICAgICAgZGlzYWJsZWQ9eyEhZXJyb3J9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L0NhcmRDb250ZW50PlxuICAgIDwvQ2FyZD5cbiAgKTtcbn0iXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBQ0E7O0FBRUEsWUFBWTs7QUFBQ0EsTUFBQSxDQUFBQyxj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QixLQUFBLENBQUN0QixZQUFBLENBQUFrRyxXQUFXO0lBQ1ZsRCxJQUFJLEVBQUMsV0FBVztJQUNoQkMsT0FBTyxFQUFDLEVBQUU7SUFDVmIsU0FBUyxFQUFFLElBQUs7SUFBQXdDLE1BQUE7SUFBQUMsUUFBQTtNQUFBQyxRQUFBLEVBQUExRSxZQUFBO01BQUEyRSxVQUFBO01BQUFDLFlBQUE7SUFBQTtFQUFBLENBQ2pCLENBRUEsQ0FDRixDQUFDLEVBR0wxQyxLQUFLLElBQ0poQixLQUFBO0lBQUtFLFNBQVMsRUFBQyw0QkFBNEI7SUFBQW9ELE1BQUE7SUFBQUMsUUFBQTtNQUFBQyxRQUFBLEVBQUExRSxZQUFBO01BQUEyRSxVQUFBO01BQUFDLFlBQUE7SUFBQTtFQUFBLEdBQ3pDMUQsS0FBQSxDQUFDekIsTUFBQSxDQUFBc0YsS0FBSztJQUFDTSxPQUFPLEVBQUMsYUFBYTtJQUFBYixNQUFBO0lBQUFDLFFBQUE7TUFBQUMsUUFBQSxFQUFBMUUsWUFBQTtNQUFBMkUsVUFBQTtNQUFBQyxZQUFBO0lBQUE7RUFBQSxHQUMxQjFELEtBQUEsQ0FBQ3BCLFlBQUEsQ0FBQWtGLFdBQVc7SUFBQzVELFNBQVMsRUFBQyxTQUFTO0lBQUFvRCxNQUFBO0lBQUFDLFFBQUE7TUFBQUMsUUFBQSxFQUFBMUUsWUFBQTtNQUFBMkUsVUFBQTtNQUFBQyxZQUFBO0lBQUE7RUFBQSxDQUFFLENBQUMsRUFDbkMxRCxLQUFBLENBQUN6QixNQUFBLENBQUF3RixnQkFBZ0I7SUFBQVQsTUFBQTtJQUFBQyxRQUFBO01BQUFDLFFBQUEsRUFBQTFFLFlBQUE7TUFBQTJFLFVBQUE7TUFBQUMsWUFBQTtJQUFBO0VBQUEsR0FDZDFDLEtBQUssQ0FBQ0ksT0FBTyxJQUFJLHlDQUNGLENBQ2IsQ0FDSixDQUNOLEVBR0RwQixLQUFBO0lBQUtFLFNBQVMsRUFBQyxlQUFlO0lBQUFvRCxNQUFBO0lBQUFDLFFBQUE7TUFBQUMsUUFBQSxFQUFBMUUsWUFBQTtNQUFBMkUsVUFBQTtNQUFBQyxZQUFBO0lBQUE7RUFBQSxHQUM1QjFELEtBQUEsQ0FBQ3JCLFVBQUEsQ0FBQXVHLFNBQVM7SUFDUkMsYUFBYSxFQUFFaEMsaUJBQWtCO0lBQ2pDckMsU0FBUyxFQUFFQSxTQUFVO0lBQ3JCc0UsUUFBUSxFQUFFLENBQUMsQ0FBQ3BFLEtBQU07SUFBQXNDLE1BQUE7SUFBQUMsUUFBQTtNQUFBQyxRQUFBLEVBQUExRSxZQUFBO01BQUEyRSxVQUFBO01BQUFDLFlBQUE7SUFBQTtFQUFBLENBQ25CLENBQ0UsQ0FDTSxDQUNULENBQUM7QUFFWCIsImlnbm9yZUxpc3QiOltdfQ==