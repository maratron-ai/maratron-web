{"version":3,"names":["_axios","_interopRequireDefault","require","_excluded","createSocialProfile","data","profile","axios","post","exports","followUser","followerId","followingId","unfollowUser","delete","isFollowing","get","following","createPost","groupId","rest","_objectWithoutProperties2","default","updateSocialProfile","id","put","likePost","postId","profileId","socialProfileId","unlikePost","addComment","text","comment","listComments","comments","createGroup","group","joinGroup","password","leaveGroup","listGroupPosts","url","posts","listGroups","groups"],"sources":["index.ts"],"sourcesContent":["import axios from \"axios\";\nimport type { SocialProfile, RunPost, Comment } from \"@maratypes/social\";\nimport type { RunGroup } from \"@maratypes/social\";\n\nexport const createSocialProfile = async (\n  data: Pick<SocialProfile, \"userId\" | \"username\"> & Partial<SocialProfile>\n): Promise<SocialProfile> => {\n  const { data: profile } = await axios.post<SocialProfile>(\n    \"/api/social/profile\",\n    data\n  );\n  return profile;\n};\n\nexport const followUser = async (\n  followerId: string,\n  followingId: string\n): Promise<void> => {\n  await axios.post(\"/api/social/follow\", { followerId, followingId });\n};\n\nexport const unfollowUser = async (\n  followerId: string,\n  followingId: string\n): Promise<void> => {\n  await axios.delete(\"/api/social/follow\", {\n    data: { followerId, followingId },\n  });\n};\n\nexport const isFollowing = async (\n  followerId: string,\n  followingId: string\n): Promise<boolean> => {\n  const { data } = await axios.get<{ following: boolean }>(\n    `/api/social/follow?followerId=${followerId}&followingId=${followingId}`\n  );\n  return data.following;\n};\n\nexport const createPost = async (\n  data: Partial<RunPost> & { groupId?: string }\n): Promise<RunPost> => {\n  const { groupId, ...rest } = data;\n  if (groupId) {\n    const { data: post } = await axios.post<RunPost>(\n      `/api/social/groups/${groupId}/posts`,\n      rest\n    );\n    return post;\n  }\n  const { data: post } = await axios.post<RunPost>(\"/api/social/posts\", rest);\n  return post;\n};\n\n\nexport const updateSocialProfile = async (\n  id: string,\n  data: Partial<SocialProfile>\n): Promise<SocialProfile> => {\n  const { data: profile } = await axios.put<SocialProfile>(\n    `/api/social/profile/byId/${id}`,\n    data\n  );\n  return profile;\n};\n\nexport const likePost = async (\n  postId: string,\n  profileId: string\n): Promise<void> => {\n  await axios.post(`/api/social/posts/${postId}/like`, {\n    socialProfileId: profileId,\n  });\n};\n\nexport const unlikePost = async (\n  postId: string,\n  profileId: string\n): Promise<void> => {\n  await axios.delete(`/api/social/posts/${postId}/like`, {\n    data: { socialProfileId: profileId },\n  });\n};\n\nexport const addComment = async (\n  postId: string,\n  profileId: string,\n  text: string\n): Promise<Comment> => {\n  const { data: comment } = await axios.post<Comment>(\n    `/api/social/posts/${postId}/comments`,\n    { socialProfileId: profileId, text }\n  );\n  return comment;\n};\n\nexport const listComments = async (postId: string): Promise<Comment[]> => {\n  const { data: comments } = await axios.get<Comment[]>(\n    `/api/social/posts/${postId}/comments`\n  );\n  return comments;\n};\n\nexport interface NewGroupData {\n  name: string;\n  ownerId: string;\n  description?: string;\n  imageUrl?: string;\n  private?: boolean;\n  password?: string;\n}\n\nexport const createGroup = async (data: NewGroupData): Promise<RunGroup> => {\n  const { data: group } = await axios.post<RunGroup>(\n    \"/api/social/groups\",\n    data\n  );\n  return group;\n};\n\nexport const joinGroup = async (\n  groupId: string,\n  profileId: string,\n  password?: string\n): Promise<void> => {\n  await axios.post(`/api/social/groups/${groupId}/join`, {\n    profileId,\n    password,\n  });\n};\n\nexport const leaveGroup = async (\n  groupId: string,\n  profileId: string\n): Promise<void> => {\n  await axios.delete(`/api/social/groups/${groupId}/join`, {\n    data: { profileId },\n  });\n};\n\nexport const listGroupPosts = async (\n  groupId: string,\n  profileId?: string\n): Promise<RunPost[]> => {\n  const url = profileId\n    ? `/api/social/groups/${groupId}/posts?profileId=${profileId}`\n    : `/api/social/groups/${groupId}/posts`;\n  const { data: posts } = await axios.get<RunPost[]>(url);\n  return posts;\n};\n\nexport const listGroups = async (\n  profileId?: string\n): Promise<RunGroup[]> => {\n  const url = profileId\n    ? `/api/social/groups?profileId=${profileId}`\n    : `/api/social/groups`;\n  const { data: groups } = await axios.get<RunGroup[]>(url);\n  return groups;\n};\n"],"mappings":"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","ignoreList":[]}