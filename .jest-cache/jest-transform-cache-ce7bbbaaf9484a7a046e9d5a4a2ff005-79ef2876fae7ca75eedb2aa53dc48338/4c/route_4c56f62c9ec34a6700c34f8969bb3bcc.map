{"version":3,"names":["cov_23wuaxi0gx","actualCoverage","NextResponse","prisma","shoeSchema","GET","request","context","f","s","params","id","shoe","findUnique","where","b","json","error","status","console","Error","message","PUT","body","validate","abortEarly","stripUnknown","updatedShoe","update","data","DELETE","delete"],"sources":["route.ts"],"sourcesContent":["// app/api/shoes/[id]/route.ts\nimport { NextRequest, NextResponse } from \"next/server\";\nimport { prisma } from \"@lib/prisma\";\nimport { shoeSchema } from \"@lib/schemas/shoeSchema\";\n\n// GET /api/shoes/[id] — Get a specific shoe\nexport async function GET(\n  request: NextRequest,\n  context: { params: Promise<{ id: string }> }\n) {\n  try {\n    const params = await context.params\n    const { id } = params\n    const shoe = await prisma.shoe.findUnique({\n      where: { id },\n    });\n    if (!shoe) {\n      return NextResponse.json({ error: \"Shoe not found\" }, { status: 404 });\n    }\n    return NextResponse.json(shoe, { status: 200 });\n  } catch (error) {\n    console.error(\"Error fetching shoe:\", error);\n    return NextResponse.json(\n      { error: error instanceof Error ? error.message : \"Error fetching shoe\" },\n      { status: 500 }\n    );\n  }\n}\n\n// PUT /api/shoes/[id] — Update a shoe\nexport async function PUT(\n  request: NextRequest,\n  context: { params: Promise<{ id: string }> }\n) {\n  try {\n    const body = await request.json();\n    await shoeSchema.validate(body, { abortEarly: false, stripUnknown: true });\n\n    const params = await context.params\n    const { id } = params\n    const updatedShoe = await prisma.shoe.update({\n      where: { id },\n      data: body,\n    });\n    return NextResponse.json(updatedShoe, { status: 200 });\n  } catch (error) {\n    console.error(\"Error updating shoe:\", error);\n    return NextResponse.json(\n      { error: error instanceof Error ? error.message : \"Error updating shoe\" },\n      { status: 500 }\n    );\n  }\n}\n\n// DELETE /api/shoes/[id] — Delete a shoe\nexport async function DELETE(\n  request: NextRequest,\n  context: { params: Promise<{ id: string }> }\n) {\n  try {\n    const params = await context.params\n    const { id } = params\n    await prisma.shoe.delete({\n      where: { id },\n    });\n    return NextResponse.json({ message: \"Shoe deleted\" }, { status: 200 });\n  } catch (error) {\n    console.error(\"Error deleting shoe:\", error);\n    return NextResponse.json(\n      { error: error instanceof Error ? error.message : \"Error deleting shoe\" },\n      { status: 500 }\n    );\n  }\n}\n"],"mappings":"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","ignoreList":[]}