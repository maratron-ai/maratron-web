e12c6c999ea1fa8d3a93b3d65141b14c
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.assignDatesToPlan = assignDatesToPlan;
exports.dayIndex = dayIndex;
exports.removeDatesFromPlan = removeDatesFromPlan;
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2.default)(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function parseDateUTC(date) {
  if (date instanceof Date) return new Date(Date.UTC(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate()));
  // treat plain dates as UTC to avoid timezone offsets
  return new Date(date.includes("T") ? date : `${date}T00:00:00Z`);
}
function startOfDayUTC(date) {
  const d = parseDateUTC(date);
  d.setUTCHours(0, 0, 0, 0);
  return d;
}
function addDays(date, days) {
  const d = parseDateUTC(date);
  d.setUTCDate(d.getUTCDate() + days);
  return d;
}
function addWeeks(date, weeks) {
  return addDays(date, weeks * 7);
}
function startOfWeekSunday(date) {
  const d = startOfDayUTC(date);
  const diff = d.getUTCDay();
  d.setUTCDate(d.getUTCDate() - diff);
  return d;
}
function nextSunday(from = new Date()) {
  const base = startOfDayUTC(from);
  const diff = (7 - base.getUTCDay()) % 7;
  base.setUTCDate(base.getUTCDate() + (diff === 0 ? 7 : diff));
  return base;
}
const dayIndexMap = {
  Sunday: 0,
  Monday: 1,
  Tuesday: 2,
  Wednesday: 3,
  Thursday: 4,
  Friday: 5,
  Saturday: 6
};
function dayIndex(day) {
  return dayIndexMap[day];
}
function assignDatesToPlan(plan, opts) {
  const {
    startDate,
    endDate
  } = opts;
  const weeks = plan.schedule.length || plan.weeks;
  let baseStart;
  let finalEnd;
  if (startDate) {
    baseStart = startOfDayUTC(parseDateUTC(startDate));
    finalEnd = endDate ? startOfDayUTC(parseDateUTC(endDate)) : addWeeks(baseStart, weeks);
  } else if (endDate) {
    finalEnd = startOfDayUTC(parseDateUTC(endDate));
    baseStart = addWeeks(finalEnd, -weeks);
  } else {
    baseStart = nextSunday();
    finalEnd = addWeeks(baseStart, weeks);
  }
  const today = startOfDayUTC(new Date());
  if (baseStart < today) {
    baseStart = today;
    finalEnd = addWeeks(baseStart, weeks);
  }
  const schedule = plan.schedule.map((week, wi) => {
    const weekStart = wi === 0 ? baseStart : startOfWeekSunday(addWeeks(baseStart, wi));
    const runs = week.runs.map(r => {
      let date;
      if (endDate && wi === weeks - 1 && (r.type === "race" || r.type === "marathon")) {
        date = startOfDayUTC(parseDateUTC(endDate));
      } else {
        const idx = r.day ? dayIndex(r.day) : 0;
        if (wi === 0) {
          const startDow = baseStart.getUTCDay();
          const diff = idx - startDow;
          date = addDays(baseStart, diff >= 0 ? diff : 7 + diff);
        } else {
          date = addDays(weekStart, idx);
        }
      }
      return _objectSpread(_objectSpread({}, r), {}, {
        date: date.toISOString()
      });
    });
    const done = runs.every(r => r.done);
    return _objectSpread(_objectSpread({}, week), {}, {
      startDate: weekStart.toISOString(),
      runs,
      done
    });
  });
  return _objectSpread(_objectSpread({}, plan), {}, {
    weeks,
    schedule,
    startDate: baseStart.toISOString(),
    endDate: finalEnd.toISOString()
  });
}
function removeDatesFromPlan(plan) {
  const schedule = plan.schedule.map(week => _objectSpread(_objectSpread({}, week), {}, {
    startDate: undefined,
    runs: week.runs.map(r => _objectSpread(_objectSpread({}, r), {}, {
      date: undefined
    }))
  }));
  return _objectSpread(_objectSpread({}, plan), {}, {
    schedule,
    startDate: undefined,
    endDate: undefined
  });
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwYXJzZURhdGVVVEMiLCJkYXRlIiwiRGF0ZSIsIlVUQyIsImdldFVUQ0Z1bGxZZWFyIiwiZ2V0VVRDTW9udGgiLCJnZXRVVENEYXRlIiwiaW5jbHVkZXMiLCJzdGFydE9mRGF5VVRDIiwiZCIsInNldFVUQ0hvdXJzIiwiYWRkRGF5cyIsImRheXMiLCJzZXRVVENEYXRlIiwiYWRkV2Vla3MiLCJ3ZWVrcyIsInN0YXJ0T2ZXZWVrU3VuZGF5IiwiZGlmZiIsImdldFVUQ0RheSIsIm5leHRTdW5kYXkiLCJmcm9tIiwiYmFzZSIsImRheUluZGV4TWFwIiwiU3VuZGF5IiwiTW9uZGF5IiwiVHVlc2RheSIsIldlZG5lc2RheSIsIlRodXJzZGF5IiwiRnJpZGF5IiwiU2F0dXJkYXkiLCJkYXlJbmRleCIsImRheSIsImFzc2lnbkRhdGVzVG9QbGFuIiwicGxhbiIsIm9wdHMiLCJzdGFydERhdGUiLCJlbmREYXRlIiwic2NoZWR1bGUiLCJsZW5ndGgiLCJiYXNlU3RhcnQiLCJmaW5hbEVuZCIsInRvZGF5IiwibWFwIiwid2VlayIsIndpIiwid2Vla1N0YXJ0IiwicnVucyIsInIiLCJ0eXBlIiwiaWR4Iiwic3RhcnREb3ciLCJfb2JqZWN0U3ByZWFkIiwidG9JU09TdHJpbmciLCJkb25lIiwiZXZlcnkiLCJyZW1vdmVEYXRlc0Zyb21QbGFuIiwidW5kZWZpbmVkIl0sInNvdXJjZXMiOlsicGxhbkRhdGVzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB0eXBlIHsgRGF5T2ZXZWVrIH0gZnJvbSBcIkBtYXJhdHlwZXMvYmFzaWNzXCI7XG5pbXBvcnQgeyBEYXlPZldlZWsgfSBmcm9tIFwiQG1hcmF0eXBlcy9iYXNpY3NcIjtcbmltcG9ydCB0eXBlIHsgUnVubmluZ1BsYW5EYXRhIH0gZnJvbSBcIkBtYXJhdHlwZXMvcnVubmluZ1BsYW5cIjtcblxuZnVuY3Rpb24gcGFyc2VEYXRlVVRDKGRhdGU6IHN0cmluZyB8IERhdGUpOiBEYXRlIHtcbiAgaWYgKGRhdGUgaW5zdGFuY2VvZiBEYXRlKSByZXR1cm4gbmV3IERhdGUoRGF0ZS5VVEMoZGF0ZS5nZXRVVENGdWxsWWVhcigpLCBkYXRlLmdldFVUQ01vbnRoKCksIGRhdGUuZ2V0VVRDRGF0ZSgpKSk7XG4gIC8vIHRyZWF0IHBsYWluIGRhdGVzIGFzIFVUQyB0byBhdm9pZCB0aW1lem9uZSBvZmZzZXRzXG4gIHJldHVybiBuZXcgRGF0ZShkYXRlLmluY2x1ZGVzKFwiVFwiKSA/IGRhdGUgOiBgJHtkYXRlfVQwMDowMDowMFpgKTtcbn1cblxuZnVuY3Rpb24gc3RhcnRPZkRheVVUQyhkYXRlOiBEYXRlKTogRGF0ZSB7XG4gIGNvbnN0IGQgPSBwYXJzZURhdGVVVEMoZGF0ZSk7XG4gIGQuc2V0VVRDSG91cnMoMCwgMCwgMCwgMCk7XG4gIHJldHVybiBkO1xufVxuXG5mdW5jdGlvbiBhZGREYXlzKGRhdGU6IERhdGUsIGRheXM6IG51bWJlcik6IERhdGUge1xuICBjb25zdCBkID0gcGFyc2VEYXRlVVRDKGRhdGUpO1xuICBkLnNldFVUQ0RhdGUoZC5nZXRVVENEYXRlKCkgKyBkYXlzKTtcbiAgcmV0dXJuIGQ7XG59XG5cbmZ1bmN0aW9uIGFkZFdlZWtzKGRhdGU6IERhdGUsIHdlZWtzOiBudW1iZXIpOiBEYXRlIHtcbiAgcmV0dXJuIGFkZERheXMoZGF0ZSwgd2Vla3MgKiA3KTtcbn1cblxuZnVuY3Rpb24gc3RhcnRPZldlZWtTdW5kYXkoZGF0ZTogRGF0ZSk6IERhdGUge1xuICBjb25zdCBkID0gc3RhcnRPZkRheVVUQyhkYXRlKTtcbiAgY29uc3QgZGlmZiA9IGQuZ2V0VVRDRGF5KCk7XG4gIGQuc2V0VVRDRGF0ZShkLmdldFVUQ0RhdGUoKSAtIGRpZmYpO1xuICByZXR1cm4gZDtcbn1cblxuZnVuY3Rpb24gbmV4dFN1bmRheShmcm9tOiBEYXRlID0gbmV3IERhdGUoKSk6IERhdGUge1xuICBjb25zdCBiYXNlID0gc3RhcnRPZkRheVVUQyhmcm9tKTtcbiAgY29uc3QgZGlmZiA9ICg3IC0gYmFzZS5nZXRVVENEYXkoKSkgJSA3O1xuICBiYXNlLnNldFVUQ0RhdGUoYmFzZS5nZXRVVENEYXRlKCkgKyAoZGlmZiA9PT0gMCA/IDcgOiBkaWZmKSk7XG4gIHJldHVybiBiYXNlO1xufVxuXG5jb25zdCBkYXlJbmRleE1hcDogUmVjb3JkPERheU9mV2VlaywgbnVtYmVyPiA9IHtcbiAgU3VuZGF5OiAwLFxuICBNb25kYXk6IDEsXG4gIFR1ZXNkYXk6IDIsXG4gIFdlZG5lc2RheTogMyxcbiAgVGh1cnNkYXk6IDQsXG4gIEZyaWRheTogNSxcbiAgU2F0dXJkYXk6IDYsXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZGF5SW5kZXgoZGF5OiBEYXlPZldlZWspOiBudW1iZXIge1xuICByZXR1cm4gZGF5SW5kZXhNYXBbZGF5XTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFzc2lnbkRhdGVzVG9QbGFuKFxuICBwbGFuOiBSdW5uaW5nUGxhbkRhdGEsXG4gIG9wdHM6IHsgc3RhcnREYXRlPzogc3RyaW5nOyBlbmREYXRlPzogc3RyaW5nIH1cbik6IFJ1bm5pbmdQbGFuRGF0YSB7XG4gIGNvbnN0IHsgc3RhcnREYXRlLCBlbmREYXRlIH0gPSBvcHRzO1xuXG4gIGNvbnN0IHdlZWtzID0gcGxhbi5zY2hlZHVsZS5sZW5ndGggfHwgcGxhbi53ZWVrcztcbiAgbGV0IGJhc2VTdGFydDogRGF0ZTtcbiAgbGV0IGZpbmFsRW5kOiBEYXRlO1xuXG4gIGlmIChzdGFydERhdGUpIHtcbiAgICBiYXNlU3RhcnQgPSBzdGFydE9mRGF5VVRDKHBhcnNlRGF0ZVVUQyhzdGFydERhdGUpKTtcbiAgICBmaW5hbEVuZCA9IGVuZERhdGUgPyBzdGFydE9mRGF5VVRDKHBhcnNlRGF0ZVVUQyhlbmREYXRlKSkgOiBhZGRXZWVrcyhiYXNlU3RhcnQsIHdlZWtzKTtcbiAgfSBlbHNlIGlmIChlbmREYXRlKSB7XG4gICAgZmluYWxFbmQgPSBzdGFydE9mRGF5VVRDKHBhcnNlRGF0ZVVUQyhlbmREYXRlKSk7XG4gICAgYmFzZVN0YXJ0ID0gYWRkV2Vla3MoZmluYWxFbmQsIC13ZWVrcyk7XG4gIH0gZWxzZSB7XG4gICAgYmFzZVN0YXJ0ID0gbmV4dFN1bmRheSgpO1xuICAgIGZpbmFsRW5kID0gYWRkV2Vla3MoYmFzZVN0YXJ0LCB3ZWVrcyk7XG4gIH1cblxuICBjb25zdCB0b2RheSA9IHN0YXJ0T2ZEYXlVVEMobmV3IERhdGUoKSk7XG4gIGlmIChiYXNlU3RhcnQgPCB0b2RheSkge1xuICAgIGJhc2VTdGFydCA9IHRvZGF5O1xuICAgIGZpbmFsRW5kID0gYWRkV2Vla3MoYmFzZVN0YXJ0LCB3ZWVrcyk7XG4gIH1cblxuICBjb25zdCBzY2hlZHVsZSA9IHBsYW4uc2NoZWR1bGUubWFwKCh3ZWVrLCB3aSkgPT4ge1xuICAgIGNvbnN0IHdlZWtTdGFydCA9IHdpID09PSAwID8gYmFzZVN0YXJ0IDogc3RhcnRPZldlZWtTdW5kYXkoYWRkV2Vla3MoYmFzZVN0YXJ0LCB3aSkpO1xuICAgIGNvbnN0IHJ1bnMgPSB3ZWVrLnJ1bnMubWFwKChyKSA9PiB7XG4gICAgICBsZXQgZGF0ZTogRGF0ZTtcbiAgICAgIGlmIChcbiAgICAgICAgZW5kRGF0ZSAmJlxuICAgICAgICB3aSA9PT0gd2Vla3MgLSAxICYmXG4gICAgICAgIChyLnR5cGUgPT09IFwicmFjZVwiIHx8IHIudHlwZSA9PT0gXCJtYXJhdGhvblwiKVxuICAgICAgKSB7XG4gICAgICAgIGRhdGUgPSBzdGFydE9mRGF5VVRDKHBhcnNlRGF0ZVVUQyhlbmREYXRlKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBpZHggPSByLmRheSA/IGRheUluZGV4KHIuZGF5KSA6IDA7XG4gICAgICAgIGlmICh3aSA9PT0gMCkge1xuICAgICAgICAgIGNvbnN0IHN0YXJ0RG93ID0gYmFzZVN0YXJ0LmdldFVUQ0RheSgpO1xuICAgICAgICAgIGNvbnN0IGRpZmYgPSBpZHggLSBzdGFydERvdztcbiAgICAgICAgICBkYXRlID0gYWRkRGF5cyhiYXNlU3RhcnQsIGRpZmYgPj0gMCA/IGRpZmYgOiA3ICsgZGlmZik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGF0ZSA9IGFkZERheXMod2Vla1N0YXJ0LCBpZHgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4geyAuLi5yLCBkYXRlOiBkYXRlLnRvSVNPU3RyaW5nKCkgfTtcbiAgICB9KTtcbiAgICBjb25zdCBkb25lID0gcnVucy5ldmVyeSgocikgPT4gci5kb25lKTtcbiAgICByZXR1cm4geyAuLi53ZWVrLCBzdGFydERhdGU6IHdlZWtTdGFydC50b0lTT1N0cmluZygpLCBydW5zLCBkb25lIH07XG4gIH0pO1xuXG4gIHJldHVybiB7XG4gICAgLi4ucGxhbixcbiAgICB3ZWVrcyxcbiAgICBzY2hlZHVsZSxcbiAgICBzdGFydERhdGU6IGJhc2VTdGFydC50b0lTT1N0cmluZygpLFxuICAgIGVuZERhdGU6IGZpbmFsRW5kLnRvSVNPU3RyaW5nKCksXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVEYXRlc0Zyb21QbGFuKHBsYW46IFJ1bm5pbmdQbGFuRGF0YSk6IFJ1bm5pbmdQbGFuRGF0YSB7XG4gIGNvbnN0IHNjaGVkdWxlID0gcGxhbi5zY2hlZHVsZS5tYXAoKHdlZWspID0+ICh7XG4gICAgLi4ud2VlayxcbiAgICBzdGFydERhdGU6IHVuZGVmaW5lZCxcbiAgICBydW5zOiB3ZWVrLnJ1bnMubWFwKChyKSA9PiAoeyAuLi5yLCBkYXRlOiB1bmRlZmluZWQgfSkpLFxuICB9KSk7XG4gIHJldHVybiB7XG4gICAgLi4ucGxhbixcbiAgICBzY2hlZHVsZSxcbiAgICBzdGFydERhdGU6IHVuZGVmaW5lZCxcbiAgICBlbmREYXRlOiB1bmRlZmluZWQsXG4gIH07XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUlBLFNBQVNBLFlBQVlBLENBQUNDLElBQW1CLEVBQVE7RUFDL0MsSUFBSUEsSUFBSSxZQUFZQyxJQUFJLEVBQUUsT0FBTyxJQUFJQSxJQUFJLENBQUNBLElBQUksQ0FBQ0MsR0FBRyxDQUFDRixJQUFJLENBQUNHLGNBQWMs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