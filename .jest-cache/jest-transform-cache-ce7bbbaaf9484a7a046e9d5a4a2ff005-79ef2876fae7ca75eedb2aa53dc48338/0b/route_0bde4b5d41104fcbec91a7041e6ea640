9cfe6cca957369166063a80a5a3617c5
/* istanbul ignore next */
function cov_1u26j4dld3() {
  var path = "/Users/jacksonthetford/Desktop/maratron-monorepo/apps/web/src/app/api/running-plans/route.ts";
  var hash = "baa5eafbb378f4c9e6497e0874375fae6767b285";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/jacksonthetford/Desktop/maratron-monorepo/apps/web/src/app/api/running-plans/route.ts",
    statementMap: {
      "0": {
        start: {
          line: 6,
          column: 2
        },
        end: {
          line: 8,
          column: 3
        }
      },
      "1": {
        start: {
          line: 7,
          column: 4
        },
        end: {
          line: 7,
          column: 92
        }
      },
      "2": {
        start: {
          line: 9,
          column: 2
        },
        end: {
          line: 9,
          column: 67
        }
      },
      "3": {
        start: {
          line: 13,
          column: 12
        },
        end: {
          line: 13,
          column: 30
        }
      },
      "4": {
        start: {
          line: 14,
          column: 2
        },
        end: {
          line: 14,
          column: 38
        }
      },
      "5": {
        start: {
          line: 15,
          column: 2
        },
        end: {
          line: 15,
          column: 11
        }
      },
      "6": {
        start: {
          line: 19,
          column: 2
        },
        end: {
          line: 19,
          column: 34
        }
      },
      "7": {
        start: {
          line: 24,
          column: 2
        },
        end: {
          line: 33,
          column: 3
        }
      },
      "8": {
        start: {
          line: 25,
          column: 18
        },
        end: {
          line: 25,
          column: 53
        }
      },
      "9": {
        start: {
          line: 26,
          column: 4
        },
        end: {
          line: 26,
          column: 53
        }
      },
      "10": {
        start: {
          line: 28,
          column: 4
        },
        end: {
          line: 28,
          column: 50
        }
      },
      "11": {
        start: {
          line: 29,
          column: 4
        },
        end: {
          line: 32,
          column: 6
        }
      },
      "12": {
        start: {
          line: 37,
          column: 2
        },
        end: {
          line: 95,
          column: 3
        }
      },
      "13": {
        start: {
          line: 38,
          column: 17
        },
        end: {
          line: 38,
          column: 37
        }
      },
      "14": {
        start: {
          line: 39,
          column: 74
        },
        end: {
          line: 39,
          column: 78
        }
      },
      "15": {
        start: {
          line: 41,
          column: 4
        },
        end: {
          line: 43,
          column: 5
        }
      },
      "16": {
        start: {
          line: 42,
          column: 6
        },
        end: {
          line: 42,
          column: 82
        }
      },
      "17": {
        start: {
          line: 46,
          column: 6
        },
        end: {
          line: 46,
          column: 68
        }
      },
      "18": {
        start: {
          line: 48,
          column: 4
        },
        end: {
          line: 50,
          column: 5
        }
      },
      "19": {
        start: {
          line: 49,
          column: 6
        },
        end: {
          line: 49,
          column: 80
        }
      },
      "20": {
        start: {
          line: 52,
          column: 18
        },
        end: {
          line: 52,
          column: 71
        }
      },
      "21": {
        start: {
          line: 53,
          column: 22
        },
        end: {
          line: 53,
          column: 50
        }
      },
      "22": {
        start: {
          line: 54,
          column: 4
        },
        end: {
          line: 61,
          column: 5
        }
      },
      "23": {
        start: {
          line: 55,
          column: 19
        },
        end: {
          line: 55,
          column: 44
        }
      },
      "24": {
        start: {
          line: 56,
          column: 20
        },
        end: {
          line: 56,
          column: 42
        }
      },
      "25": {
        start: {
          line: 57,
          column: 24
        },
        end: {
          line: 59,
          column: 8
        }
      },
      "26": {
        start: {
          line: 60,
          column: 6
        },
        end: {
          line: 60,
          column: 57
        }
      },
      "27": {
        start: {
          line: 62,
          column: 24
        },
        end: {
          line: 62,
          column: 35
        }
      },
      "28": {
        start: {
          line: 64,
          column: 16
        },
        end: {
          line: 64,
          column: 63
        }
      },
      "29": {
        start: {
          line: 65,
          column: 14
        },
        end: {
          line: 65,
          column: 57
        }
      },
      "30": {
        start: {
          line: 67,
          column: 4
        },
        end: {
          line: 74,
          column: 5
        }
      },
      "31": {
        start: {
          line: 68,
          column: 6
        },
        end: {
          line: 68,
          column: 54
        }
      },
      "32": {
        start: {
          line: 69,
          column: 11
        },
        end: {
          line: 74,
          column: 5
        }
      },
      "33": {
        start: {
          line: 70,
          column: 6
        },
        end: {
          line: 70,
          column: 57
        }
      },
      "34": {
        start: {
          line: 71,
          column: 11
        },
        end: {
          line: 74,
          column: 5
        }
      },
      "35": {
        start: {
          line: 72,
          column: 6
        },
        end: {
          line: 72,
          column: 39
        }
      },
      "36": {
        start: {
          line: 73,
          column: 6
        },
        end: {
          line: 73,
          column: 54
        }
      },
      "37": {
        start: {
          line: 76,
          column: 20
        },
        end: {
          line: 86,
          column: 6
        }
      },
      "38": {
        start: {
          line: 88,
          column: 4
        },
        end: {
          line: 88,
          column: 55
        }
      },
      "39": {
        start: {
          line: 90,
          column: 4
        },
        end: {
          line: 90,
          column: 57
        }
      },
      "40": {
        start: {
          line: 91,
          column: 4
        },
        end: {
          line: 94,
          column: 6
        }
      }
    },
    fnMap: {
      "0": {
        name: "parseDateUTC",
        decl: {
          start: {
            line: 5,
            column: 9
          },
          end: {
            line: 5,
            column: 21
          }
        },
        loc: {
          start: {
            line: 5,
            column: 49
          },
          end: {
            line: 10,
            column: 1
          }
        },
        line: 5
      },
      "1": {
        name: "addDays",
        decl: {
          start: {
            line: 12,
            column: 9
          },
          end: {
            line: 12,
            column: 16
          }
        },
        loc: {
          start: {
            line: 12,
            column: 49
          },
          end: {
            line: 16,
            column: 1
          }
        },
        line: 12
      },
      "2": {
        name: "addWeeks",
        decl: {
          start: {
            line: 18,
            column: 9
          },
          end: {
            line: 18,
            column: 17
          }
        },
        loc: {
          start: {
            line: 18,
            column: 51
          },
          end: {
            line: 20,
            column: 1
          }
        },
        line: 18
      },
      "3": {
        name: "GET",
        decl: {
          start: {
            line: 23,
            column: 22
          },
          end: {
            line: 23,
            column: 25
          }
        },
        loc: {
          start: {
            line: 23,
            column: 28
          },
          end: {
            line: 34,
            column: 1
          }
        },
        line: 23
      },
      "4": {
        name: "POST",
        decl: {
          start: {
            line: 36,
            column: 22
          },
          end: {
            line: 36,
            column: 26
          }
        },
        loc: {
          start: {
            line: 36,
            column: 49
          },
          end: {
            line: 96,
            column: 1
          }
        },
        line: 36
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 6,
            column: 2
          },
          end: {
            line: 8,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 6,
            column: 2
          },
          end: {
            line: 8,
            column: 3
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 6
      },
      "1": {
        loc: {
          start: {
            line: 9,
            column: 18
          },
          end: {
            line: 9,
            column: 65
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 9,
            column: 39
          },
          end: {
            line: 9,
            column: 43
          }
        }, {
          start: {
            line: 9,
            column: 46
          },
          end: {
            line: 9,
            column: 65
          }
        }],
        line: 9
      },
      "2": {
        loc: {
          start: {
            line: 30,
            column: 15
          },
          end: {
            line: 30,
            column: 78
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 30,
            column: 40
          },
          end: {
            line: 30,
            column: 53
          }
        }, {
          start: {
            line: 30,
            column: 56
          },
          end: {
            line: 30,
            column: 78
          }
        }],
        line: 30
      },
      "3": {
        loc: {
          start: {
            line: 41,
            column: 4
          },
          end: {
            line: 43,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 41,
            column: 4
          },
          end: {
            line: 43,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 41
      },
      "4": {
        loc: {
          start: {
            line: 46,
            column: 6
          },
          end: {
            line: 46,
            column: 68
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 46,
            column: 6
          },
          end: {
            line: 46,
            column: 11
          }
        }, {
          start: {
            line: 46,
            column: 15
          },
          end: {
            line: 46,
            column: 30
          }
        }, {
          start: {
            line: 46,
            column: 34
          },
          end: {
            line: 46,
            column: 60
          }
        }, {
          start: {
            line: 46,
            column: 64
          },
          end: {
            line: 46,
            column: 68
          }
        }],
        line: 46
      },
      "5": {
        loc: {
          start: {
            line: 48,
            column: 4
          },
          end: {
            line: 50,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 48,
            column: 4
          },
          end: {
            line: 50,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 48
      },
      "6": {
        loc: {
          start: {
            line: 48,
            column: 8
          },
          end: {
            line: 48,
            column: 67
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 48,
            column: 8
          },
          end: {
            line: 48,
            column: 29
          }
        }, {
          start: {
            line: 48,
            column: 33
          },
          end: {
            line: 48,
            column: 67
          }
        }],
        line: 48
      },
      "7": {
        loc: {
          start: {
            line: 54,
            column: 4
          },
          end: {
            line: 61,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 54,
            column: 4
          },
          end: {
            line: 61,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 54
      },
      "8": {
        loc: {
          start: {
            line: 54,
            column: 8
          },
          end: {
            line: 54,
            column: 30
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 54,
            column: 8
          },
          end: {
            line: 54,
            column: 13
          }
        }, {
          start: {
            line: 54,
            column: 17
          },
          end: {
            line: 54,
            column: 30
          }
        }],
        line: 54
      },
      "9": {
        loc: {
          start: {
            line: 64,
            column: 16
          },
          end: {
            line: 64,
            column: 63
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 64,
            column: 28
          },
          end: {
            line: 64,
            column: 51
          }
        }, {
          start: {
            line: 64,
            column: 54
          },
          end: {
            line: 64,
            column: 63
          }
        }],
        line: 64
      },
      "10": {
        loc: {
          start: {
            line: 65,
            column: 14
          },
          end: {
            line: 65,
            column: 57
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 65,
            column: 24
          },
          end: {
            line: 65,
            column: 45
          }
        }, {
          start: {
            line: 65,
            column: 48
          },
          end: {
            line: 65,
            column: 57
          }
        }],
        line: 65
      },
      "11": {
        loc: {
          start: {
            line: 67,
            column: 4
          },
          end: {
            line: 74,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 67,
            column: 4
          },
          end: {
            line: 74,
            column: 5
          }
        }, {
          start: {
            line: 69,
            column: 11
          },
          end: {
            line: 74,
            column: 5
          }
        }],
        line: 67
      },
      "12": {
        loc: {
          start: {
            line: 67,
            column: 8
          },
          end: {
            line: 67,
            column: 21
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 67,
            column: 8
          },
          end: {
            line: 67,
            column: 13
          }
        }, {
          start: {
            line: 67,
            column: 17
          },
          end: {
            line: 67,
            column: 21
          }
        }],
        line: 67
      },
      "13": {
        loc: {
          start: {
            line: 69,
            column: 11
          },
          end: {
            line: 74,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 69,
            column: 11
          },
          end: {
            line: 74,
            column: 5
          }
        }, {
          start: {
            line: 71,
            column: 11
          },
          end: {
            line: 74,
            column: 5
          }
        }],
        line: 69
      },
      "14": {
        loc: {
          start: {
            line: 69,
            column: 15
          },
          end: {
            line: 69,
            column: 28
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 69,
            column: 15
          },
          end: {
            line: 69,
            column: 18
          }
        }, {
          start: {
            line: 69,
            column: 22
          },
          end: {
            line: 69,
            column: 28
          }
        }],
        line: 69
      },
      "15": {
        loc: {
          start: {
            line: 71,
            column: 11
          },
          end: {
            line: 74,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 71,
            column: 11
          },
          end: {
            line: 74,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 71
      },
      "16": {
        loc: {
          start: {
            line: 71,
            column: 15
          },
          end: {
            line: 71,
            column: 48
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 71,
            column: 16
          },
          end: {
            line: 71,
            column: 22
          }
        }, {
          start: {
            line: 71,
            column: 26
          },
          end: {
            line: 71,
            column: 37
          }
        }, {
          start: {
            line: 71,
            column: 42
          },
          end: {
            line: 71,
            column: 48
          }
        }],
        line: 71
      },
      "17": {
        loc: {
          start: {
            line: 81,
            column: 14
          },
          end: {
            line: 81,
            column: 33
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 81,
            column: 14
          },
          end: {
            line: 81,
            column: 18
          }
        }, {
          start: {
            line: 81,
            column: 22
          },
          end: {
            line: 81,
            column: 33
          }
        }],
        line: 81
      },
      "18": {
        loc: {
          start: {
            line: 84,
            column: 16
          },
          end: {
            line: 84,
            column: 52
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 84,
            column: 30
          },
          end: {
            line: 84,
            column: 34
          }
        }, {
          start: {
            line: 84,
            column: 37
          },
          end: {
            line: 84,
            column: 52
          }
        }],
        line: 84
      },
      "19": {
        loc: {
          start: {
            line: 84,
            column: 37
          },
          end: {
            line: 84,
            column: 52
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 84,
            column: 37
          },
          end: {
            line: 84,
            column: 43
          }
        }, {
          start: {
            line: 84,
            column: 47
          },
          end: {
            line: 84,
            column: 52
          }
        }],
        line: 84
      },
      "20": {
        loc: {
          start: {
            line: 92,
            column: 15
          },
          end: {
            line: 92,
            column: 77
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 92,
            column: 40
          },
          end: {
            line: 92,
            column: 53
          }
        }, {
          start: {
            line: 92,
            column: 56
          },
          end: {
            line: 92,
            column: 77
          }
        }],
        line: 92
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0, 0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0],
      "15": [0, 0],
      "16": [0, 0, 0],
      "17": [0, 0],
      "18": [0, 0],
      "19": [0, 0],
      "20": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "baa5eafbb378f4c9e6497e0874375fae6767b285"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_1u26j4dld3 = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_1u26j4dld3();
import { NextResponse } from "next/server";
import { prisma } from "@lib/prisma";
import { defaultPlanName, getDistanceLabel } from "@utils/running/planName";
function parseDateUTC(date) {
  /* istanbul ignore next */
  cov_1u26j4dld3().f[0]++;
  cov_1u26j4dld3().s[0]++;
  if (date instanceof Date) {
    /* istanbul ignore next */
    cov_1u26j4dld3().b[0][0]++;
    cov_1u26j4dld3().s[1]++;
    return new Date(Date.UTC(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate()));
  } else
  /* istanbul ignore next */
  {
    cov_1u26j4dld3().b[0][1]++;
  }
  cov_1u26j4dld3().s[2]++;
  return new Date(date.includes("T") ?
  /* istanbul ignore next */
  (cov_1u26j4dld3().b[1][0]++, date) :
  /* istanbul ignore next */
  (cov_1u26j4dld3().b[1][1]++, `${date}T00:00:00Z`));
}
function addDays(date, days) {
  /* istanbul ignore next */
  cov_1u26j4dld3().f[1]++;
  const d =
  /* istanbul ignore next */
  (cov_1u26j4dld3().s[3]++, parseDateUTC(date));
  /* istanbul ignore next */
  cov_1u26j4dld3().s[4]++;
  d.setUTCDate(d.getUTCDate() + days);
  /* istanbul ignore next */
  cov_1u26j4dld3().s[5]++;
  return d;
}
function addWeeks(date, weeks) {
  /* istanbul ignore next */
  cov_1u26j4dld3().f[2]++;
  cov_1u26j4dld3().s[6]++;
  return addDays(date, weeks * 7);
}
export async function GET() {
  /* istanbul ignore next */
  cov_1u26j4dld3().f[3]++;
  cov_1u26j4dld3().s[7]++;
  try {
    const plans =
    /* istanbul ignore next */
    (cov_1u26j4dld3().s[8]++, await prisma.runningPlan.findMany());
    /* istanbul ignore next */
    cov_1u26j4dld3().s[9]++;
    return NextResponse.json(plans, {
      status: 200
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_1u26j4dld3().s[10]++;
    console.error("Error fetching plans:", error);
    /* istanbul ignore next */
    cov_1u26j4dld3().s[11]++;
    return NextResponse.json({
      error: error instanceof Error ?
      /* istanbul ignore next */
      (cov_1u26j4dld3().b[2][0]++, error.message) :
      /* istanbul ignore next */
      (cov_1u26j4dld3().b[2][1]++, "Error fetching plans")
    }, {
      status: 500
    });
  }
}
export async function POST(request) {
  /* istanbul ignore next */
  cov_1u26j4dld3().f[4]++;
  cov_1u26j4dld3().s[12]++;
  try {
    const body =
    /* istanbul ignore next */
    (cov_1u26j4dld3().s[13]++, await request.json());
    const {
      userId,
      weeks,
      planData,
      name,
      startDate,
      endDate,
      active
    } =
    /* istanbul ignore next */
    (cov_1u26j4dld3().s[14]++, body);
    /* istanbul ignore next */
    cov_1u26j4dld3().s[15]++;
    if (!userId) {
      /* istanbul ignore next */
      cov_1u26j4dld3().b[3][0]++;
      cov_1u26j4dld3().s[16]++;
      return NextResponse.json({
        error: "User ID is required"
      }, {
        status: 400
      });
    } else
    /* istanbul ignore next */
    {
      cov_1u26j4dld3().b[3][1]++;
    }
    const derivedWeeks =
    /* istanbul ignore next */
    (cov_1u26j4dld3().s[17]++,
    /* istanbul ignore next */
    (cov_1u26j4dld3().b[4][0]++, weeks) ??
    /* istanbul ignore next */
    (cov_1u26j4dld3().b[4][1]++, planData?.weeks) ??
    /* istanbul ignore next */
    (cov_1u26j4dld3().b[4][2]++, planData?.schedule?.length) ??
    /* istanbul ignore next */
    (cov_1u26j4dld3().b[4][3]++, null));
    /* istanbul ignore next */
    cov_1u26j4dld3().s[18]++;
    if (
    /* istanbul ignore next */
    (cov_1u26j4dld3().b[6][0]++, derivedWeeks === null) ||
    /* istanbul ignore next */
    (cov_1u26j4dld3().b[6][1]++, Number.isNaN(Number(derivedWeeks)))) {
      /* istanbul ignore next */
      cov_1u26j4dld3().b[5][0]++;
      cov_1u26j4dld3().s[19]++;
      return NextResponse.json({
        error: "Weeks is required"
      }, {
        status: 400
      });
    } else
    /* istanbul ignore next */
    {
      cov_1u26j4dld3().b[5][1]++;
    }
    const count =
    /* istanbul ignore next */
    (cov_1u26j4dld3().s[20]++, await prisma.runningPlan.count({
      where: {
        userId
      }
    }));
    let defaultName =
    /* istanbul ignore next */
    (cov_1u26j4dld3().s[21]++, `Training Plan ${count + 1}`);
    /* istanbul ignore next */
    cov_1u26j4dld3().s[22]++;
    if (
    /* istanbul ignore next */
    (cov_1u26j4dld3().b[8][0]++, !name) &&
    /* istanbul ignore next */
    (cov_1u26j4dld3().b[8][1]++, body.raceType)) {
      /* istanbul ignore next */
      cov_1u26j4dld3().b[7][0]++;
      const race =
      /* istanbul ignore next */
      (cov_1u26j4dld3().s[23]++, body.raceType);
      const label =
      /* istanbul ignore next */
      (cov_1u26j4dld3().s[24]++, getDistanceLabel(race));
      const raceCount =
      /* istanbul ignore next */
      (cov_1u26j4dld3().s[25]++, await prisma.runningPlan.count({
        where: {
          userId,
          name: {
            startsWith: label
          }
        }
      }));
      /* istanbul ignore next */
      cov_1u26j4dld3().s[26]++;
      defaultName = defaultPlanName(race, raceCount + 1);
    } else
    /* istanbul ignore next */
    {
      cov_1u26j4dld3().b[7][1]++;
    }
    const isFirstPlan =
    /* istanbul ignore next */
    (cov_1u26j4dld3().s[27]++, count === 0);
    let start =
    /* istanbul ignore next */
    (cov_1u26j4dld3().s[28]++, startDate ?
    /* istanbul ignore next */
    (cov_1u26j4dld3().b[9][0]++, parseDateUTC(startDate)) :
    /* istanbul ignore next */
    (cov_1u26j4dld3().b[9][1]++, undefined));
    let end =
    /* istanbul ignore next */
    (cov_1u26j4dld3().s[29]++, endDate ?
    /* istanbul ignore next */
    (cov_1u26j4dld3().b[10][0]++, parseDateUTC(endDate)) :
    /* istanbul ignore next */
    (cov_1u26j4dld3().b[10][1]++, undefined));
    /* istanbul ignore next */
    cov_1u26j4dld3().s[30]++;
    if (
    /* istanbul ignore next */
    (cov_1u26j4dld3().b[12][0]++, start) &&
    /* istanbul ignore next */
    (cov_1u26j4dld3().b[12][1]++, !end)) {
      /* istanbul ignore next */
      cov_1u26j4dld3().b[11][0]++;
      cov_1u26j4dld3().s[31]++;
      end = addWeeks(start, Number(derivedWeeks) - 1);
    } else {
      /* istanbul ignore next */
      cov_1u26j4dld3().b[11][1]++;
      cov_1u26j4dld3().s[32]++;
      if (
      /* istanbul ignore next */
      (cov_1u26j4dld3().b[14][0]++, end) &&
      /* istanbul ignore next */
      (cov_1u26j4dld3().b[14][1]++, !start)) {
        /* istanbul ignore next */
        cov_1u26j4dld3().b[13][0]++;
        cov_1u26j4dld3().s[33]++;
        start = addWeeks(end, -(Number(derivedWeeks) - 1));
      } else {
        /* istanbul ignore next */
        cov_1u26j4dld3().b[13][1]++;
        cov_1u26j4dld3().s[34]++;
        if ((
        /* istanbul ignore next */
        (cov_1u26j4dld3().b[16][0]++, active) ||
        /* istanbul ignore next */
        (cov_1u26j4dld3().b[16][1]++, isFirstPlan)) &&
        /* istanbul ignore next */
        (cov_1u26j4dld3().b[16][2]++, !start)) {
          /* istanbul ignore next */
          cov_1u26j4dld3().b[15][0]++;
          cov_1u26j4dld3().s[35]++;
          start = parseDateUTC(new Date());
          /* istanbul ignore next */
          cov_1u26j4dld3().s[36]++;
          end = addWeeks(start, Number(derivedWeeks) - 1);
        } else
        /* istanbul ignore next */
        {
          cov_1u26j4dld3().b[15][1]++;
        }
      }
    }
    const newPlan =
    /* istanbul ignore next */
    (cov_1u26j4dld3().s[37]++, await prisma.runningPlan.create({
      data: {
        user: {
          connect: {
            id: userId
          }
        },
        weeks: Number(derivedWeeks),
        planData,
        name:
        /* istanbul ignore next */
        (cov_1u26j4dld3().b[17][0]++, name) ||
        /* istanbul ignore next */
        (cov_1u26j4dld3().b[17][1]++, defaultName),
        startDate: start,
        endDate: end,
        active: isFirstPlan ?
        /* istanbul ignore next */
        (cov_1u26j4dld3().b[18][0]++, true) :
        /* istanbul ignore next */
        (cov_1u26j4dld3().b[18][1]++,
        /* istanbul ignore next */
        (cov_1u26j4dld3().b[19][0]++, active) ??
        /* istanbul ignore next */
        (cov_1u26j4dld3().b[19][1]++, false))
      }
    }));
    /* istanbul ignore next */
    cov_1u26j4dld3().s[38]++;
    return NextResponse.json(newPlan, {
      status: 201
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_1u26j4dld3().s[39]++;
    console.error("Error creating running plan:", error);
    /* istanbul ignore next */
    cov_1u26j4dld3().s[40]++;
    return NextResponse.json({
      error: error instanceof Error ?
      /* istanbul ignore next */
      (cov_1u26j4dld3().b[20][0]++, error.message) :
      /* istanbul ignore next */
      (cov_1u26j4dld3().b[20][1]++, "Error creating plan")
    }, {
      status: 500
    });
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMXUyNmo0ZGxkMyIsImFjdHVhbENvdmVyYWdlIiwiTmV4dFJlc3BvbnNlIiwicHJpc21hIiwiZGVmYXVsdFBsYW5OYW1lIiwiZ2V0RGlzdGFuY2VMYWJlbCIsInBhcnNlRGF0ZVVUQyIsImRhdGUiLCJmIiwicyIsIkRhdGUiLCJiIiwiVVRDIiwiZ2V0VVRDRnVsbFllYXIiLCJnZXRVVENNb250aCIsImdldFVUQ0RhdGUiLCJpbmNsdWRlcyIsImFkZERheXMiLCJkYXlzIiwiZCIsInNldFVUQ0RhdGUiLCJhZGRXZWVrcyIsIndlZWtzIiwiR0VUIiwicGxhbnMiLCJydW5uaW5nUGxhbiIsImZpbmRNYW55IiwianNvbiIsInN0YXR1cyIsImVycm9yIiwiY29uc29sZSIsIkVycm9yIiwibWVzc2FnZSIsIlBPU1QiLCJyZXF1ZXN0IiwiYm9keSIsInVzZXJJZCIsInBsYW5EYXRhIiwibmFtZSIsInN0YXJ0RGF0ZSIsImVuZERhdGUiLCJhY3RpdmUiLCJkZXJpdmVkV2Vla3MiLCJzY2hlZHVsZSIsImxlbmd0aCIsIk51bWJlciIsImlzTmFOIiwiY291bnQiLCJ3aGVyZSIsImRlZmF1bHROYW1lIiwicmFjZVR5cGUiLCJyYWNlIiwibGFiZWwiLCJyYWNlQ291bnQiLCJzdGFydHNXaXRoIiwiaXNGaXJzdFBsYW4iLCJzdGFydCIsInVuZGVmaW5lZCIsImVuZCIsIm5ld1BsYW4iLCJjcmVhdGUiLCJkYXRhIiwidXNlciIsImNvbm5lY3QiLCJpZCJdLCJzb3VyY2VzIjpbInJvdXRlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIjtcbmltcG9ydCB7IHByaXNtYSB9IGZyb20gXCJAbGliL3ByaXNtYVwiO1xuaW1wb3J0IHsgZGVmYXVsdFBsYW5OYW1lLCBnZXREaXN0YW5jZUxhYmVsLCBSYWNlVHlwZSB9IGZyb20gXCJAdXRpbHMvcnVubmluZy9wbGFuTmFtZVwiO1xuXG5mdW5jdGlvbiBwYXJzZURhdGVVVEMoZGF0ZTogc3RyaW5nIHwgRGF0ZSk6IERhdGUge1xuICBpZiAoZGF0ZSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoRGF0ZS5VVEMoZGF0ZS5nZXRVVENGdWxsWWVhcigpLCBkYXRlLmdldFVUQ01vbnRoKCksIGRhdGUuZ2V0VVRDRGF0ZSgpKSk7XG4gIH1cbiAgcmV0dXJuIG5ldyBEYXRlKGRhdGUuaW5jbHVkZXMoXCJUXCIpID8gZGF0ZSA6IGAke2RhdGV9VDAwOjAwOjAwWmApO1xufVxuXG5mdW5jdGlvbiBhZGREYXlzKGRhdGU6IERhdGUsIGRheXM6IG51bWJlcik6IERhdGUge1xuICBjb25zdCBkID0gcGFyc2VEYXRlVVRDKGRhdGUpO1xuICBkLnNldFVUQ0RhdGUoZC5nZXRVVENEYXRlKCkgKyBkYXlzKTtcbiAgcmV0dXJuIGQ7XG59XG5cbmZ1bmN0aW9uIGFkZFdlZWtzKGRhdGU6IERhdGUsIHdlZWtzOiBudW1iZXIpOiBEYXRlIHtcbiAgcmV0dXJuIGFkZERheXMoZGF0ZSwgd2Vla3MgKiA3KTtcbn1cblxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKCkge1xuICB0cnkge1xuICAgIGNvbnN0IHBsYW5zID0gYXdhaXQgcHJpc21hLnJ1bm5pbmdQbGFuLmZpbmRNYW55KCk7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHBsYW5zLCB7IHN0YXR1czogMjAwIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyBwbGFuczpcIiwgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJFcnJvciBmZXRjaGluZyBwbGFuc1wiIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xuICAgIGNvbnN0IHsgdXNlcklkLCB3ZWVrcywgcGxhbkRhdGEsIG5hbWUsIHN0YXJ0RGF0ZSwgZW5kRGF0ZSwgYWN0aXZlIH0gPSBib2R5O1xuXG4gICAgaWYgKCF1c2VySWQpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBcIlVzZXIgSUQgaXMgcmVxdWlyZWRcIiB9LCB7IHN0YXR1czogNDAwIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IGRlcml2ZWRXZWVrcyA9XG4gICAgICB3ZWVrcyA/PyBwbGFuRGF0YT8ud2Vla3MgPz8gcGxhbkRhdGE/LnNjaGVkdWxlPy5sZW5ndGggPz8gbnVsbDtcblxuICAgIGlmIChkZXJpdmVkV2Vla3MgPT09IG51bGwgfHwgTnVtYmVyLmlzTmFOKE51bWJlcihkZXJpdmVkV2Vla3MpKSkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IFwiV2Vla3MgaXMgcmVxdWlyZWRcIiB9LCB7IHN0YXR1czogNDAwIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IGNvdW50ID0gYXdhaXQgcHJpc21hLnJ1bm5pbmdQbGFuLmNvdW50KHsgd2hlcmU6IHsgdXNlcklkIH0gfSk7XG4gICAgbGV0IGRlZmF1bHROYW1lID0gYFRyYWluaW5nIFBsYW4gJHtjb3VudCArIDF9YDtcbiAgICBpZiAoIW5hbWUgJiYgYm9keS5yYWNlVHlwZSkge1xuICAgICAgY29uc3QgcmFjZSA9IGJvZHkucmFjZVR5cGUgYXMgUmFjZVR5cGU7XG4gICAgICBjb25zdCBsYWJlbCA9IGdldERpc3RhbmNlTGFiZWwocmFjZSk7XG4gICAgICBjb25zdCByYWNlQ291bnQgPSBhd2FpdCBwcmlzbWEucnVubmluZ1BsYW4uY291bnQoe1xuICAgICAgICB3aGVyZTogeyB1c2VySWQsIG5hbWU6IHsgc3RhcnRzV2l0aDogbGFiZWwgfSB9LFxuICAgICAgfSk7XG4gICAgICBkZWZhdWx0TmFtZSA9IGRlZmF1bHRQbGFuTmFtZShyYWNlLCByYWNlQ291bnQgKyAxKTtcbiAgICB9XG4gICAgY29uc3QgaXNGaXJzdFBsYW4gPSBjb3VudCA9PT0gMDtcblxuICAgIGxldCBzdGFydCA9IHN0YXJ0RGF0ZSA/IHBhcnNlRGF0ZVVUQyhzdGFydERhdGUpIDogdW5kZWZpbmVkO1xuICAgIGxldCBlbmQgPSBlbmREYXRlID8gcGFyc2VEYXRlVVRDKGVuZERhdGUpIDogdW5kZWZpbmVkO1xuXG4gICAgaWYgKHN0YXJ0ICYmICFlbmQpIHtcbiAgICAgIGVuZCA9IGFkZFdlZWtzKHN0YXJ0LCBOdW1iZXIoZGVyaXZlZFdlZWtzKSAtIDEpO1xuICAgIH0gZWxzZSBpZiAoZW5kICYmICFzdGFydCkge1xuICAgICAgc3RhcnQgPSBhZGRXZWVrcyhlbmQsIC0oTnVtYmVyKGRlcml2ZWRXZWVrcykgLSAxKSk7XG4gICAgfSBlbHNlIGlmICgoYWN0aXZlIHx8IGlzRmlyc3RQbGFuKSAmJiAhc3RhcnQpIHtcbiAgICAgIHN0YXJ0ID0gcGFyc2VEYXRlVVRDKG5ldyBEYXRlKCkpO1xuICAgICAgZW5kID0gYWRkV2Vla3Moc3RhcnQsIE51bWJlcihkZXJpdmVkV2Vla3MpIC0gMSk7XG4gICAgfVxuXG4gICAgY29uc3QgbmV3UGxhbiA9IGF3YWl0IHByaXNtYS5ydW5uaW5nUGxhbi5jcmVhdGUoe1xuICAgICAgZGF0YToge1xuICAgICAgICB1c2VyOiB7IGNvbm5lY3Q6IHsgaWQ6IHVzZXJJZCB9IH0sXG4gICAgICAgIHdlZWtzOiBOdW1iZXIoZGVyaXZlZFdlZWtzKSxcbiAgICAgICAgcGxhbkRhdGEsXG4gICAgICAgIG5hbWU6IG5hbWUgfHwgZGVmYXVsdE5hbWUsXG4gICAgICAgIHN0YXJ0RGF0ZTogc3RhcnQsXG4gICAgICAgIGVuZERhdGU6IGVuZCxcbiAgICAgICAgYWN0aXZlOiBpc0ZpcnN0UGxhbiA/IHRydWUgOiBhY3RpdmUgPz8gZmFsc2UsXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKG5ld1BsYW4sIHsgc3RhdHVzOiAyMDEgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHJ1bm5pbmcgcGxhbjpcIiwgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJFcnJvciBjcmVhdGluZyBwbGFuXCIgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFlWTtJQUFBQSxjQUFBLFlBQUFBLENBQUE7TUFBQSxPQUFBQyxjQUFBO0lBQUE7RUFBQTtFQUFBLE9BQUFBLGNBQUE7QUFBQTtBQUFBRCxjQUFBO0FBZlosU0FBc0JFLFlBQVksUUFBUSxhQUFhO0FBQ3ZELFNB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