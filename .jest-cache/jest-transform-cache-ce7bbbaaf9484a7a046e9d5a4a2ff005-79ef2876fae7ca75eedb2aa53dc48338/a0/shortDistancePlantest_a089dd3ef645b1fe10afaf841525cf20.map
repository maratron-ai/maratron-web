{"version":3,"names":["_shortDistancePlan","require","describe","it","weeks","plan","generateShortDistancePlan","TrainingLevel","Beginner","undefined","lastWeek","schedule","expect","runs","toHaveLength","lastRun","type","toBe","notes","slice","forEach","week","easyRuns","filter","r","length","toBeGreaterThan","toThrow","longRun","find","mileage","toBeCloseTo","Math","round"],"sources":["shortDistancePlan.test.ts"],"sourcesContent":["import { generateShortDistancePlan, TrainingLevel } from \"../running/plans/shortDistancePlan\";\n\ndescribe(\"generateShortDistancePlan\", () => {\n  it(\"sets final run as race\", () => {\n    const weeks = 6;\n    const plan = generateShortDistancePlan(weeks, 6.2, \"miles\", TrainingLevel.Beginner, 40, undefined, undefined);\n    const lastWeek = plan.schedule[weeks - 1];\n    expect(lastWeek.runs).toHaveLength(1);\n    const lastRun = lastWeek.runs[0];\n    expect(lastRun.type).toBe(\"race\");\n    expect(lastWeek.notes).toBe(\"5K Week!\");\n  });\n\n  it(\"splits easy mileage into multiple runs\", () => {\n    const plan = generateShortDistancePlan(8, 6.2, \"miles\", TrainingLevel.Beginner, 40, undefined, undefined);\n    plan.schedule.slice(0, -1).forEach((week) => {\n      const easyRuns = week.runs.filter((r) => r.type === \"easy\");\n      expect(easyRuns.length).toBeGreaterThan(1);\n    });\n  });\n\n  it(\"labels 10k race week\", () => {\n    const weeks = 8;\n    const plan = generateShortDistancePlan(weeks, 10, \"kilometers\", TrainingLevel.Beginner, 40, undefined, undefined);\n    const lastWeek = plan.schedule[weeks - 1];\n    expect(lastWeek.notes).toBe(\"10K Week!\");\n  });\n\n  it(\"throws for week counts outside 4-16\", () => {\n    expect(() =>\n      generateShortDistancePlan(3, 6.2, \"miles\", TrainingLevel.Beginner, 40, undefined, undefined)\n    ).toThrow();\n    expect(() =>\n      generateShortDistancePlan(17, 6.2, \"miles\", TrainingLevel.Beginner, 40, undefined, undefined)\n    ).toThrow();\n  });\n\n  it(\"rounds long runs to the nearest half unit\", () => {\n    const plan = generateShortDistancePlan(8, 6.2, \"miles\", TrainingLevel.Beginner, 40, undefined, undefined);\n    plan.schedule.forEach((week) => {\n      const longRun = week.runs.find((r) => r.type === \"long\");\n      if (longRun) {\n        expect(longRun.mileage * 2).toBeCloseTo(Math.round(longRun.mileage * 2));\n      }\n    });\n  });\n});\n"],"mappings":"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","ignoreList":[]}