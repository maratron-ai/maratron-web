{"version":3,"names":["cov_1n4mu26afd","actualCoverage","NextResponse","prisma","GET","request","f","userId","s","cookies","get","value","b","json","error","status","user","findUnique","where","id"],"sources":["route.ts"],"sourcesContent":["// app/api/auth/me/route.ts\nimport { NextRequest, NextResponse } from \"next/server\";\nimport { prisma } from \"@lib/prisma\";\n\nexport async function GET(request: NextRequest) {\n  const userId = request.cookies.get(\"session_user\")?.value;\n\n  if (!userId) {\n    return NextResponse.json({ error: \"Not authenticated\" }, { status: 401 });\n  }\n\n  const user = await prisma.user.findUnique({ where: { id: userId } });\n\n  if (!user) {\n    return NextResponse.json({ error: \"User not found\" }, { status: 401 });\n  }\n\n  return NextResponse.json(user, { status: 200 });\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAeY;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AAfZ;AACA,SAAsBE,YAAY,QAAQ,aAAa;AACvD,SAASC,MAAM,QAAQ,aAAa;AAEpC,OAAO,eAAeC,GAAGA,CAACC,OAAoB,EAAE;EAAA;EAAAL,cAAA,GAAAM,CAAA;EAC9C,MAAMC,MAAM;EAAA;EAAA,CAAAP,cAAA,GAAAQ,CAAA,OAAGH,OAAO,CAACI,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC,EAAEC,KAAK;EAAC;EAAAX,cAAA,GAAAQ,CAAA;EAE1D,IAAI,CAACD,MAAM,EAAE;IAAA;IAAAP,cAAA,GAAAY,CAAA;IAAAZ,cAAA,GAAAQ,CAAA;IACX,OAAON,YAAY,CAACW,IAAI,CAAC;MAAEC,KAAK,EAAE;IAAoB,CAAC,EAAE;MAAEC,MAAM,EAAE;IAAI,CAAC,CAAC;EAC3E,CAAC;EAAA;EAAA;IAAAf,cAAA,GAAAY,CAAA;EAAA;EAED,MAAMI,IAAI;EAAA;EAAA,CAAAhB,cAAA,GAAAQ,CAAA,OAAG,MAAML,MAAM,CAACa,IAAI,CAACC,UAAU,CAAC;IAAEC,KAAK,EAAE;MAAEC,EAAE,EAAEZ;IAAO;EAAE,CAAC,CAAC;EAAC;EAAAP,cAAA,GAAAQ,CAAA;EAErE,IAAI,CAACQ,IAAI,EAAE;IAAA;IAAAhB,cAAA,GAAAY,CAAA;IAAAZ,cAAA,GAAAQ,CAAA;IACT,OAAON,YAAY,CAACW,IAAI,CAAC;MAAEC,KAAK,EAAE;IAAiB,CAAC,EAAE;MAAEC,MAAM,EAAE;IAAI,CAAC,CAAC;EACxE,CAAC;EAAA;EAAA;IAAAf,cAAA,GAAAY,CAAA;EAAA;EAAAZ,cAAA,GAAAQ,CAAA;EAED,OAAON,YAAY,CAACW,IAAI,CAACG,IAAI,EAAE;IAAED,MAAM,EAAE;EAAI,CAAC,CAAC;AACjD","ignoreList":[]}