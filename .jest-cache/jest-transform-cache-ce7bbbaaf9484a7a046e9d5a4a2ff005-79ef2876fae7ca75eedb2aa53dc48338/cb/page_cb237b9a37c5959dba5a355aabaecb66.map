{"version":3,"names":["_jsxFileName","React","__jsx","createElement","cov_2ihs6sk5d5","path","hash","global","Function","gcv","coverageData","statementMap","start","line","column","end","fnMap","name","decl","loc","branchMap","type","locations","undefined","s","f","b","_coverageSchema","coverage","actualCoverage","useSession","useRouter","updateUser","UserForm","useEffect","Card","OnboardingProfile","data","session","status","update","router","user","replace","initialUser","id","email","onSave","updated","avatarUrl","push","className","__self","__source","fileName","lineNumber","columnNumber","alwaysEdit","submitLabel","showVDOTField"],"sources":["page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useSession } from \"next-auth/react\";\nimport { useRouter } from \"next/navigation\";\nimport { updateUser } from \"@lib/api/user/user\";\nimport UserForm from \"@components/profile/UserProfileForm\";\nimport { User } from \"@maratypes/user\";\nimport { useEffect } from \"react\";\nimport { Card } from \"@components/ui\";\n\nexport default function OnboardingProfile() {\n  const { data: session, status, update } = useSession();\n  const router = useRouter();\n\n  // If not authenticated, redirect to signup\n  useEffect(() => {\n    if (status === \"loading\") return; // Wait for loading\n    if (!session?.user) {\n      router.replace(\"/signup\");\n    }\n  }, [session, status, router]);\n\n  // Don't render until loaded & logged in\n  if (status === \"loading\" || !session?.user) {\n    return null;\n  }\n\n  // Prefill the form using session.user\n  // You'll need to load any additional fields from your database if needed\n  const initialUser: User = {\n    id: session.user.id!,\n    name: session.user.name ?? \"\",\n    email: session.user.email ?? \"\",\n\n  // ...other fields (may need to fetch from API if your User is more than name/email)\n  };\n\n  const onSave = async (updated: User) => {\n    await updateUser(initialUser.id, updated);\n    // Refresh session so avatar updates in navbar\n    await update({ user: { avatarUrl: updated.avatarUrl ?? null } });\n    router.push(\"/signup/vdot\");\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <section className=\"relative py-20 overflow-hidden flex items-center justify-center\">\n        <div className=\"absolute inset-0 bg-background opacity-80 backdrop-blur-sm\" />\n        <div className=\"relative w-full px-4 sm:px-6 lg:px-8 flex justify-center\">\n          <Card className=\"w-full max-w-2xl p-8 bg-background border border-muted shadow-xl space-y-6\">\n            <h1 className=\"text-3xl font-bold text-center\">\n              Almost doneâ€”tell us about your running!\n            </h1>\n            <UserForm\n              initialUser={initialUser}\n              onSave={onSave}\n              alwaysEdit\n              submitLabel=\"Finish Setup\"\n              showVDOTField={false}\n            />\n          </Card>\n        </div>\n      </section>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]}