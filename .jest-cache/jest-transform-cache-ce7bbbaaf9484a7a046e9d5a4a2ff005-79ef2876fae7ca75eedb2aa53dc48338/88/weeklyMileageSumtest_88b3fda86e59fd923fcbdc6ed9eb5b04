c65bef624f224a6ec0100dc63434ee0f
"use strict";

var _longDistancePlan = require("../running/plans/longDistancePlan");
var _shortDistancePlan = require("../running/plans/shortDistancePlan");
describe("weeklyMileage totals", () => {
  it("long plan weekly mileage equals sum of runs", () => {
    const plan = (0, _longDistancePlan.generateLongDistancePlan)(10, 13.1, "miles", _longDistancePlan.TrainingLevel.Beginner, 40, 13.1);
    plan.schedule.forEach(week => {
      const sum = week.runs.reduce((tot, r) => tot + r.mileage, 0);
      const roundHalf = n => Math.round(n * 2) / 2;
      expect(roundHalf(sum)).toBeCloseTo(week.weeklyMileage, 1);
    });
  });
  it("short plan weekly mileage equals sum of runs", () => {
    const plan = (0, _shortDistancePlan.generateShortDistancePlan)(8, 6.2, "miles", _shortDistancePlan.TrainingLevel.Beginner, 40, undefined, undefined);
    plan.schedule.forEach(week => {
      const sum = week.runs.reduce((tot, r) => tot + r.mileage, 0);
      expect(Number(sum.toFixed(1))).toBeCloseTo(week.weeklyMileage, 1);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbG9uZ0Rpc3RhbmNlUGxhbiIsInJlcXVpcmUiLCJfc2hvcnREaXN0YW5jZVBsYW4iLCJkZXNjcmliZSIsIml0IiwicGxhbiIsImdlbmVyYXRlTG9uZ0Rpc3RhbmNlUGxhbiIsIkxvbmdMZXZlbCIsIkJlZ2lubmVyIiwic2NoZWR1bGUiLCJmb3JFYWNoIiwid2VlayIsInN1bSIsInJ1bnMiLCJyZWR1Y2UiLCJ0b3QiLCJyIiwibWlsZWFnZSIsInJvdW5kSGFsZiIsIm4iLCJNYXRoIiwicm91bmQiLCJleHBlY3QiLCJ0b0JlQ2xvc2VUbyIsIndlZWtseU1pbGVhZ2UiLCJnZW5lcmF0ZVNob3J0RGlzdGFuY2VQbGFuIiwiU2hvcnRMZXZlbCIsInVuZGVmaW5lZCIsIk51bWJlciIsInRvRml4ZWQiXSwic291cmNlcyI6WyJ3ZWVrbHlNaWxlYWdlU3VtLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2VuZXJhdGVMb25nRGlzdGFuY2VQbGFuLCBUcmFpbmluZ0xldmVsIGFzIExvbmdMZXZlbCB9IGZyb20gXCIuLi9ydW5uaW5nL3BsYW5zL2xvbmdEaXN0YW5jZVBsYW5cIjtcbmltcG9ydCB7IGdlbmVyYXRlU2hvcnREaXN0YW5jZVBsYW4sIFRyYWluaW5nTGV2ZWwgYXMgU2hvcnRMZXZlbCB9IGZyb20gXCIuLi9ydW5uaW5nL3BsYW5zL3Nob3J0RGlzdGFuY2VQbGFuXCI7XG5cbmRlc2NyaWJlKFwid2Vla2x5TWlsZWFnZSB0b3RhbHNcIiwgKCkgPT4ge1xuICBpdChcImxvbmcgcGxhbiB3ZWVrbHkgbWlsZWFnZSBlcXVhbHMgc3VtIG9mIHJ1bnNcIiwgKCkgPT4ge1xuICAgIGNvbnN0IHBsYW4gPSBnZW5lcmF0ZUxvbmdEaXN0YW5jZVBsYW4oMTAsIDEzLjEsIFwibWlsZXNcIiwgTG9uZ0xldmVsLkJlZ2lubmVyLCA0MCwgMTMuMSk7XG4gICAgcGxhbi5zY2hlZHVsZS5mb3JFYWNoKCh3ZWVrKSA9PiB7XG4gICAgICBjb25zdCBzdW0gPSB3ZWVrLnJ1bnMucmVkdWNlKCh0b3QsIHIpID0+IHRvdCArIHIubWlsZWFnZSwgMCk7XG4gICAgICBjb25zdCByb3VuZEhhbGYgPSAobjogbnVtYmVyKSA9PiBNYXRoLnJvdW5kKG4gKiAyKSAvIDI7XG4gICAgICBleHBlY3Qocm91bmRIYWxmKHN1bSkpLnRvQmVDbG9zZVRvKHdlZWsud2Vla2x5TWlsZWFnZSwgMSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGl0KFwic2hvcnQgcGxhbiB3ZWVrbHkgbWlsZWFnZSBlcXVhbHMgc3VtIG9mIHJ1bnNcIiwgKCkgPT4ge1xuICAgIGNvbnN0IHBsYW4gPSBnZW5lcmF0ZVNob3J0RGlzdGFuY2VQbGFuKDgsIDYuMiwgXCJtaWxlc1wiLCBTaG9ydExldmVsLkJlZ2lubmVyLCA0MCwgdW5kZWZpbmVkLCB1bmRlZmluZWQpO1xuICAgIHBsYW4uc2NoZWR1bGUuZm9yRWFjaCgod2VlaykgPT4ge1xuICAgICAgY29uc3Qgc3VtID0gd2Vlay5ydW5zLnJlZHVjZSgodG90LCByKSA9PiB0b3QgKyByLm1pbGVhZ2UsIDApO1xuICAgICAgZXhwZWN0KE51bWJlcihzdW0udG9GaXhlZCgxKSkpLnRvQmVDbG9zZVRvKHdlZWsud2Vla2x5TWlsZWFnZSwgMSk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG4iXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBQUEsaUJBQUEsR0FBQUMsT0FBQTtBQUNBLElBQUFDLGtCQUFBLEdBQUFELE9BQUE7QUFFQUUsUUFBUSxDQUFDLHNCQUFzQixFQUFFLE1BQU07RUFDckNDLEVBQUUsQ0FBQyw2Q0FBNkMsRUFBRSxNQUFNO0lBQ3RELE1BQU1DLElBQUksR0FBRyxJQUFBQywwQ0FBd0IsRUFBQyxFQUFFLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRUMsK0JBQVMsQ0FBQ0MsUUFBUSxFQUFFLEVBQUUsRUFBRSxJQUFJLENBQUM7SUFDdEZILElBQUksQ0FBQ0ksUUFBUSxDQUFDQyxPQUFPLENBQUVDLElBQUksSUFBSztNQUM5QixNQUFNQyxHQUFHLEdBQUdELElBQUksQ0FBQ0UsSUFBSSxDQUFDQyxNQUFNLENBQUMsQ0FBQ0MsR0FBRyxFQUFFQyxDQUFDLEtBQUtELEdBQUcsR0FBR0MsQ0FBQyxDQUFDQyxPQUFPLEVBQUUsQ0FBQyxDQUFDO01BQzVELE1BQU1DLFNBQVMsR0FBSUMsQ0FBUyxJQUFLQyxJQUFJLENBQUNDLEtBQUssQ0FBQ0YsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUM7TUFDdERHLE1BQU0sQ0FBQ0osU0FBUyxDQUFDTixHQUFHLENBQUMsQ0FBQyxDQUFDVyxXQUFXLENBQUNaLElBQUksQ0FBQ2EsYUFBYSxFQUFFLENBQUMsQ0FBQztJQUMzRCxDQUFDLENBQUM7RUFDSixDQUFDLENBQUM7RUFFRnBCLEVBQUUsQ0FBQyw4Q0FBOEMsRUFBRSxNQUFNO0lBQ3ZELE1BQU1DLElBQUksR0FBRyxJQUFBb0IsNENBQXlCLEVBQUMsQ0FBQyxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUVDLGdDQUFVLENBQUNsQixRQUFRLEVBQUUsRUFBRSxFQUFFbUIsU0FBUyxFQUFFQSxTQUFTLENBQUM7SUFDdEd0QixJQUFJLENBQUNJLFFBQVEsQ0FBQ0MsT0FBTyxDQUFFQyxJQUFJLElBQUs7TUFDOUIsTUFBTUMsR0FBRyxHQUFHRCxJQUFJLENBQUNFLElBQUksQ0FBQ0MsTUFBTSxDQUFDLENBQUNDLEdBQUcsRUFBRUMsQ0FBQyxLQUFLRCxHQUFHLEdBQUdDLENBQUMsQ0FBQ0MsT0FBTyxFQUFFLENBQUMsQ0FBQztNQUM1REssTUFBTSxDQUFDTSxNQUFNLENBQUNoQixHQUFHLENBQUNpQixPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDTixXQUFXLENBQUNaLElBQUksQ0FBQ2EsYUFBYSxFQUFFLENBQUMsQ0FBQztJQUNuRSxDQUFDLENBQUM7RUFDSixDQUFDLENBQUM7QUFDSixDQUFDLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=