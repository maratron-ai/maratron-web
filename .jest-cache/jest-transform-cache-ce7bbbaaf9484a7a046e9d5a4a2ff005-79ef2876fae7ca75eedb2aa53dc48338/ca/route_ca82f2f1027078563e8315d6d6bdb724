d51d3833c1fa8a01ea1d6dbb3d5e018d
/* istanbul ignore next */
import _defineProperty from "@babel/runtime/helpers/esm/defineProperty";
function cov_y18dmr7jr() {
  var path = "/Users/jacksonthetford/Desktop/maratron-monorepo/apps/web/src/app/api/runs/route.ts";
  var hash = "42d8184fe3ef6e9b65755610766bfe75df1ffeeb";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/jacksonthetford/Desktop/maratron-monorepo/apps/web/src/app/api/runs/route.ts",
    statementMap: {
      "0": {
        start: {
          line: 8,
          column: 2
        },
        end: {
          line: 33,
          column: 3
        }
      },
      "1": {
        start: {
          line: 10,
          column: 29
        },
        end: {
          line: 10,
          column: 49
        }
      },
      "2": {
        start: {
          line: 11,
          column: 19
        },
        end: {
          line: 11,
          column: 45
        }
      },
      "3": {
        start: {
          line: 13,
          column: 4
        },
        end: {
          line: 18,
          column: 5
        }
      },
      "4": {
        start: {
          line: 14,
          column: 6
        },
        end: {
          line: 17,
          column: 8
        }
      },
      "5": {
        start: {
          line: 21,
          column: 17
        },
        end: {
          line: 24,
          column: 6
        }
      },
      "6": {
        start: {
          line: 26,
          column: 4
        },
        end: {
          line: 26,
          column: 52
        }
      },
      "7": {
        start: {
          line: 28,
          column: 4
        },
        end: {
          line: 28,
          column: 49
        }
      },
      "8": {
        start: {
          line: 29,
          column: 4
        },
        end: {
          line: 32,
          column: 6
        }
      },
      "9": {
        start: {
          line: 37,
          column: 2
        },
        end: {
          line: 161,
          column: 3
        }
      },
      "10": {
        start: {
          line: 38,
          column: 17
        },
        end: {
          line: 38,
          column: 37
        }
      },
      "11": {
        start: {
          line: 54,
          column: 8
        },
        end: {
          line: 54,
          column: 12
        }
      },
      "12": {
        start: {
          line: 57,
          column: 4
        },
        end: {
          line: 62,
          column: 5
        }
      },
      "13": {
        start: {
          line: 58,
          column: 6
        },
        end: {
          line: 61,
          column: 8
        }
      },
      "14": {
        start: {
          line: 65,
          column: 4
        },
        end: {
          line: 70,
          column: 5
        }
      },
      "15": {
        start: {
          line: 66,
          column: 6
        },
        end: {
          line: 69,
          column: 8
        }
      },
      "16": {
        start: {
          line: 72,
          column: 4
        },
        end: {
          line: 77,
          column: 5
        }
      },
      "17": {
        start: {
          line: 73,
          column: 6
        },
        end: {
          line: 76,
          column: 8
        }
      },
      "18": {
        start: {
          line: 79,
          column: 42
        },
        end: {
          line: 79,
          column: 48
        }
      },
      "19": {
        start: {
          line: 80,
          column: 4
        },
        end: {
          line: 88,
          column: 5
        }
      },
      "20": {
        start: {
          line: 81,
          column: 19
        },
        end: {
          line: 84,
          column: 8
        }
      },
      "21": {
        start: {
          line: 85,
          column: 6
        },
        end: {
          line: 87,
          column: 7
        }
      },
      "22": {
        start: {
          line: 86,
          column: 8
        },
        end: {
          line: 86,
          column: 41
        }
      },
      "23": {
        start: {
          line: 90,
          column: 19
        },
        end: {
          line: 109,
          column: 6
        }
      },
      "24": {
        start: {
          line: 111,
          column: 4
        },
        end: {
          line: 133,
          column: 5
        }
      },
      "25": {
        start: {
          line: 112,
          column: 19
        },
        end: {
          line: 115,
          column: 8
        }
      },
      "26": {
        start: {
          line: 116,
          column: 6
        },
        end: {
          line: 132,
          column: 7
        }
      },
      "27": {
        start: {
          line: 117,
          column: 24
        },
        end: {
          line: 117,
          column: 40
        }
      },
      "28": {
        start: {
          line: 118,
          column: 8
        },
        end: {
          line: 123,
          column: 9
        }
      },
      "29": {
        start: {
          line: 119,
          column: 10
        },
        end: {
          line: 122,
          column: 43
        }
      },
      "30": {
        start: {
          line: 124,
          column: 8
        },
        end: {
          line: 131,
          column: 11
        }
      },
      "31": {
        start: {
          line: 136,
          column: 4
        },
        end: {
          line: 150,
          column: 5
        }
      },
      "32": {
        start: {
          line: 138,
          column: 8
        },
        end: {
          line: 138,
          column: 87
        }
      },
      "33": {
        start: {
          line: 139,
          column: 22
        },
        end: {
          line: 139,
          column: 45
        }
      },
      "34": {
        start: {
          line: 140,
          column: 19
        },
        end: {
          line: 140,
          column: 72
        }
      },
      "35": {
        start: {
          line: 141,
          column: 19
        },
        end: {
          line: 144,
          column: 8
        }
      },
      "36": {
        start: {
          line: 145,
          column: 6
        },
        end: {
          line: 147,
          column: 7
        }
      },
      "37": {
        start: {
          line: 146,
          column: 8
        },
        end: {
          line: 146,
          column: 82
        }
      },
      "38": {
        start: {
          line: 149,
          column: 6
        },
        end: {
          line: 149,
          column: 50
        }
      },
      "39": {
        start: {
          line: 152,
          column: 4
        },
        end: {
          line: 152,
          column: 54
        }
      },
      "40": {
        start: {
          line: 154,
          column: 4
        },
        end: {
          line: 154,
          column: 48
        }
      },
      "41": {
        start: {
          line: 155,
          column: 4
        },
        end: {
          line: 160,
          column: 6
        }
      }
    },
    fnMap: {
      "0": {
        name: "GET",
        decl: {
          start: {
            line: 7,
            column: 22
          },
          end: {
            line: 7,
            column: 25
          }
        },
        loc: {
          start: {
            line: 7,
            column: 48
          },
          end: {
            line: 34,
            column: 1
          }
        },
        line: 7
      },
      "1": {
        name: "POST",
        decl: {
          start: {
            line: 36,
            column: 22
          },
          end: {
            line: 36,
            column: 26
          }
        },
        loc: {
          start: {
            line: 36,
            column: 49
          },
          end: {
            line: 162,
            column: 1
          }
        },
        line: 36
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 13,
            column: 4
          },
          end: {
            line: 18,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 13,
            column: 4
          },
          end: {
            line: 18,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 13
      },
      "1": {
        loc: {
          start: {
            line: 30,
            column: 15
          },
          end: {
            line: 30,
            column: 77
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 30,
            column: 40
          },
          end: {
            line: 30,
            column: 53
          }
        }, {
          start: {
            line: 30,
            column: 56
          },
          end: {
            line: 30,
            column: 77
          }
        }],
        line: 30
      },
      "2": {
        loc: {
          start: {
            line: 57,
            column: 4
          },
          end: {
            line: 62,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 57,
            column: 4
          },
          end: {
            line: 62,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 57
      },
      "3": {
        loc: {
          start: {
            line: 57,
            column: 8
          },
          end: {
            line: 57,
            column: 67
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 57,
            column: 8
          },
          end: {
            line: 57,
            column: 13
          }
        }, {
          start: {
            line: 57,
            column: 17
          },
          end: {
            line: 57,
            column: 26
          }
        }, {
          start: {
            line: 57,
            column: 30
          },
          end: {
            line: 57,
            column: 39
          }
        }, {
          start: {
            line: 57,
            column: 43
          },
          end: {
            line: 57,
            column: 56
          }
        }, {
          start: {
            line: 57,
            column: 60
          },
          end: {
            line: 57,
            column: 67
          }
        }],
        line: 57
      },
      "4": {
        loc: {
          start: {
            line: 65,
            column: 4
          },
          end: {
            line: 70,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 65,
            column: 4
          },
          end: {
            line: 70,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 65
      },
      "5": {
        loc: {
          start: {
            line: 65,
            column: 8
          },
          end: {
            line: 65,
            column: 53
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 65,
            column: 8
          },
          end: {
            line: 65,
            column: 36
          }
        }, {
          start: {
            line: 65,
            column: 40
          },
          end: {
            line: 65,
            column: 53
          }
        }],
        line: 65
      },
      "6": {
        loc: {
          start: {
            line: 72,
            column: 4
          },
          end: {
            line: 77,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 72,
            column: 4
          },
          end: {
            line: 77,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 72
      },
      "7": {
        loc: {
          start: {
            line: 80,
            column: 4
          },
          end: {
            line: 88,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 80,
            column: 4
          },
          end: {
            line: 88,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 80
      },
      "8": {
        loc: {
          start: {
            line: 80,
            column: 8
          },
          end: {
            line: 80,
            column: 30
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 80,
            column: 8
          },
          end: {
            line: 80,
            column: 20
          }
        }, {
          start: {
            line: 80,
            column: 24
          },
          end: {
            line: 80,
            column: 30
          }
        }],
        line: 80
      },
      "9": {
        loc: {
          start: {
            line: 85,
            column: 6
          },
          end: {
            line: 87,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 85,
            column: 6
          },
          end: {
            line: 87,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 85
      },
      "10": {
        loc: {
          start: {
            line: 96,
            column: 29
          },
          end: {
            line: 96,
            column: 56
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 96,
            column: 29
          },
          end: {
            line: 96,
            column: 48
          }
        }, {
          start: {
            line: 96,
            column: 52
          },
          end: {
            line: 96,
            column: 56
          }
        }],
        line: 96
      },
      "11": {
        loc: {
          start: {
            line: 97,
            column: 14
          },
          end: {
            line: 97,
            column: 200
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 97,
            column: 14
          },
          end: {
            line: 97,
            column: 18
          }
        }, {
          start: {
            line: 97,
            column: 22
          },
          end: {
            line: 97,
            column: 200
          }
        }],
        line: 97
      },
      "12": {
        loc: {
          start: {
            line: 97,
            column: 144
          },
          end: {
            line: 97,
            column: 198
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 97,
            column: 166
          },
          end: {
            line: 97,
            column: 193
          }
        }, {
          start: {
            line: 97,
            column: 196
          },
          end: {
            line: 97,
            column: 198
          }
        }],
        line: 97
      },
      "13": {
        loc: {
          start: {
            line: 98,
            column: 14
          },
          end: {
            line: 98,
            column: 37
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 98,
            column: 21
          },
          end: {
            line: 98,
            column: 30
          }
        }, {
          start: {
            line: 98,
            column: 33
          },
          end: {
            line: 98,
            column: 37
          }
        }],
        line: 98
      },
      "14": {
        loc: {
          start: {
            line: 99,
            column: 18
          },
          end: {
            line: 99,
            column: 41
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 99,
            column: 25
          },
          end: {
            line: 99,
            column: 34
          }
        }, {
          start: {
            line: 99,
            column: 37
          },
          end: {
            line: 99,
            column: 41
          }
        }],
        line: 99
      },
      "15": {
        loc: {
          start: {
            line: 100,
            column: 23
          },
          end: {
            line: 100,
            column: 67
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 100,
            column: 39
          },
          end: {
            line: 100,
            column: 60
          }
        }, {
          start: {
            line: 100,
            column: 63
          },
          end: {
            line: 100,
            column: 67
          }
        }],
        line: 100
      },
      "16": {
        loc: {
          start: {
            line: 102,
            column: 10
          },
          end: {
            line: 104,
            column: 18
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 103,
            column: 14
          },
          end: {
            line: 103,
            column: 31
          }
        }, {
          start: {
            line: 104,
            column: 14
          },
          end: {
            line: 104,
            column: 18
          }
        }],
        line: 102
      },
      "17": {
        loc: {
          start: {
            line: 102,
            column: 10
          },
          end: {
            line: 102,
            column: 62
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 102,
            column: 10
          },
          end: {
            line: 102,
            column: 27
          }
        }, {
          start: {
            line: 102,
            column: 31
          },
          end: {
            line: 102,
            column: 62
          }
        }],
        line: 102
      },
      "18": {
        loc: {
          start: {
            line: 105,
            column: 15
          },
          end: {
            line: 105,
            column: 28
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 105,
            column: 15
          },
          end: {
            line: 105,
            column: 20
          }
        }, {
          start: {
            line: 105,
            column: 24
          },
          end: {
            line: 105,
            column: 28
          }
        }],
        line: 105
      },
      "19": {
        loc: {
          start: {
            line: 107,
            column: 12
          },
          end: {
            line: 107,
            column: 73
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 107,
            column: 26
          },
          end: {
            line: 107,
            column: 68
          }
        }, {
          start: {
            line: 107,
            column: 71
          },
          end: {
            line: 107,
            column: 73
          }
        }],
        line: 107
      },
      "20": {
        loc: {
          start: {
            line: 111,
            column: 4
          },
          end: {
            line: 133,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 111,
            column: 4
          },
          end: {
            line: 133,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 111
      },
      "21": {
        loc: {
          start: {
            line: 116,
            column: 6
          },
          end: {
            line: 132,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 116,
            column: 6
          },
          end: {
            line: 132,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 116
      },
      "22": {
        loc: {
          start: {
            line: 118,
            column: 8
          },
          end: {
            line: 123,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 118,
            column: 8
          },
          end: {
            line: 123,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 118
      },
      "23": {
        loc: {
          start: {
            line: 120,
            column: 12
          },
          end: {
            line: 122,
            column: 42
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 121,
            column: 16
          },
          end: {
            line: 121,
            column: 43
          }
        }, {
          start: {
            line: 122,
            column: 16
          },
          end: {
            line: 122,
            column: 42
          }
        }],
        line: 120
      },
      "24": {
        loc: {
          start: {
            line: 138,
            column: 8
          },
          end: {
            line: 138,
            column: 87
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 138,
            column: 35
          },
          end: {
            line: 138,
            column: 61
          }
        }, {
          start: {
            line: 138,
            column: 64
          },
          end: {
            line: 138,
            column: 87
          }
        }],
        line: 138
      },
      "25": {
        loc: {
          start: {
            line: 145,
            column: 6
          },
          end: {
            line: 147,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 145,
            column: 6
          },
          end: {
            line: 147,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 145
      },
      "26": {
        loc: {
          start: {
            line: 145,
            column: 10
          },
          end: {
            line: 145,
            column: 58
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 145,
            column: 10
          },
          end: {
            line: 145,
            column: 14
          }
        }, {
          start: {
            line: 145,
            column: 19
          },
          end: {
            line: 145,
            column: 37
          }
        }, {
          start: {
            line: 145,
            column: 41
          },
          end: {
            line: 145,
            column: 57
          }
        }],
        line: 145
      },
      "27": {
        loc: {
          start: {
            line: 157,
            column: 15
          },
          end: {
            line: 157,
            column: 76
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 157,
            column: 40
          },
          end: {
            line: 157,
            column: 53
          }
        }, {
          start: {
            line: 157,
            column: 56
          },
          end: {
            line: 157,
            column: 76
          }
        }],
        line: 157
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0
    },
    f: {
      "0": 0,
      "1": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0, 0, 0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0],
      "15": [0, 0],
      "16": [0, 0],
      "17": [0, 0],
      "18": [0, 0],
      "19": [0, 0],
      "20": [0, 0],
      "21": [0, 0],
      "22": [0, 0],
      "23": [0, 0],
      "24": [0, 0],
      "25": [0, 0],
      "26": [0, 0, 0],
      "27": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "42d8184fe3ef6e9b65755610766bfe75df1ffeeb"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_y18dmr7jr = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_y18dmr7jr();
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
// src/app/api/runs/route.ts
import { NextResponse } from "next/server";
import { prisma } from "@lib/prisma";
import { calculateVDOTJackDaniels } from "@utils/running/jackDaniels";
import { parseDuration } from "@utils/time";
export async function GET(request) {
  /* istanbul ignore next */
  cov_y18dmr7jr().f[0]++;
  cov_y18dmr7jr().s[0]++;
  try {
    // Extract userId from query parameters for proper authorization
    const {
      searchParams
    } =
    /* istanbul ignore next */
    (cov_y18dmr7jr().s[1]++, new URL(request.url));
    const userId =
    /* istanbul ignore next */
    (cov_y18dmr7jr().s[2]++, searchParams.get('userId'));
    /* istanbul ignore next */
    cov_y18dmr7jr().s[3]++;
    if (!userId) {
      /* istanbul ignore next */
      cov_y18dmr7jr().b[0][0]++;
      cov_y18dmr7jr().s[4]++;
      return NextResponse.json({
        error: "User ID is required"
      }, {
        status: 400
      });
    } else
    /* istanbul ignore next */
    {
      cov_y18dmr7jr().b[0][1]++;
    }

    // Only return runs for the specified user
    const runs =
    /* istanbul ignore next */
    (cov_y18dmr7jr().s[5]++, await prisma.run.findMany({
      where: {
        userId
      },
      orderBy: {
        date: 'desc'
      }
    }));
    /* istanbul ignore next */
    cov_y18dmr7jr().s[6]++;
    return NextResponse.json(runs, {
      status: 200
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_y18dmr7jr().s[7]++;
    console.error("Error fetching runs:", error);
    /* istanbul ignore next */
    cov_y18dmr7jr().s[8]++;
    return NextResponse.json({
      error: error instanceof Error ?
      /* istanbul ignore next */
      (cov_y18dmr7jr().b[1][0]++, error.message) :
      /* istanbul ignore next */
      (cov_y18dmr7jr().b[1][1]++, "Error fetching runs")
    }, {
      status: 500
    });
  }
}
export async function POST(request) {
  /* istanbul ignore next */
  cov_y18dmr7jr().f[1]++;
  cov_y18dmr7jr().s[9]++;
  try {
    const body =
    /* istanbul ignore next */
    (cov_y18dmr7jr().s[10]++, await request.json());

    // Validate required fields
    const {
      date,
      duration,
      distance,
      distanceUnit,
      trainingEnvironment,
      pace,
      // expected format: { pace: string, unit: "miles" | "kilometers" } or null
      elevationGain,
      elevationGainUnit,
      notes,
      userId,
      shoeId,
      name
    } =
    /* istanbul ignore next */
    (cov_y18dmr7jr().s[11]++, body);

    // Validate required fields
    /* istanbul ignore next */
    cov_y18dmr7jr().s[12]++;
    if (
    /* istanbul ignore next */
    (cov_y18dmr7jr().b[3][0]++, !date) ||
    /* istanbul ignore next */
    (cov_y18dmr7jr().b[3][1]++, !duration) ||
    /* istanbul ignore next */
    (cov_y18dmr7jr().b[3][2]++, !distance) ||
    /* istanbul ignore next */
    (cov_y18dmr7jr().b[3][3]++, !distanceUnit) ||
    /* istanbul ignore next */
    (cov_y18dmr7jr().b[3][4]++, !userId)) {
      /* istanbul ignore next */
      cov_y18dmr7jr().b[2][0]++;
      cov_y18dmr7jr().s[13]++;
      return NextResponse.json({
        error: "Missing required fields: date, duration, distance, distanceUnit, userId"
      }, {
        status: 400
      });
    } else
    /* istanbul ignore next */
    {
      cov_y18dmr7jr().b[2][1]++;
    }

    // Validate data types and ranges
    cov_y18dmr7jr().s[14]++;
    if (
    /* istanbul ignore next */
    (cov_y18dmr7jr().b[5][0]++, typeof distance !== 'number') ||
    /* istanbul ignore next */
    (cov_y18dmr7jr().b[5][1]++, distance <= 0)) {
      /* istanbul ignore next */
      cov_y18dmr7jr().b[4][0]++;
      cov_y18dmr7jr().s[15]++;
      return NextResponse.json({
        error: "Distance must be a positive number"
      }, {
        status: 400
      });
    } else
    /* istanbul ignore next */
    {
      cov_y18dmr7jr().b[4][1]++;
    }
    cov_y18dmr7jr().s[16]++;
    if (!['miles', 'kilometers'].includes(distanceUnit)) {
      /* istanbul ignore next */
      cov_y18dmr7jr().b[6][0]++;
      cov_y18dmr7jr().s[17]++;
      return NextResponse.json({
        error: "Distance unit must be 'miles' or 'kilometers'"
      }, {
        status: 400
      });
    } else
    /* istanbul ignore next */
    {
      cov_y18dmr7jr().b[6][1]++;
    }
    let finalShoeId =
    /* istanbul ignore next */
    (cov_y18dmr7jr().s[18]++, shoeId);
    /* istanbul ignore next */
    cov_y18dmr7jr().s[19]++;
    if (
    /* istanbul ignore next */
    (cov_y18dmr7jr().b[8][0]++, !finalShoeId) &&
    /* istanbul ignore next */
    (cov_y18dmr7jr().b[8][1]++, userId)) {
      /* istanbul ignore next */
      cov_y18dmr7jr().b[7][0]++;
      const user =
      /* istanbul ignore next */
      (cov_y18dmr7jr().s[20]++, await prisma.user.findUnique({
        where: {
          id: userId
        },
        select: {
          defaultShoeId: true
        }
      }));
      /* istanbul ignore next */
      cov_y18dmr7jr().s[21]++;
      if (user?.defaultShoeId) {
        /* istanbul ignore next */
        cov_y18dmr7jr().b[9][0]++;
        cov_y18dmr7jr().s[22]++;
        finalShoeId = user.defaultShoeId;
      } else
      /* istanbul ignore next */
      {
        cov_y18dmr7jr().b[9][1]++;
      }
    } else
    /* istanbul ignore next */
    {
      cov_y18dmr7jr().b[7][1]++;
    }
    const newRun =
    /* istanbul ignore next */
    (cov_y18dmr7jr().s[23]++, await prisma.run.create({
      data:
      /* istanbul ignore next */
      _objectSpread({
        date: new Date(date),
        duration,
        distance: Number(distance),
        distanceUnit,
        trainingEnvironment:
        /* istanbul ignore next */
        (cov_y18dmr7jr().b[10][0]++, trainingEnvironment) ||
        /* istanbul ignore next */
        (cov_y18dmr7jr().b[10][1]++, null),
        name:
        /* istanbul ignore next */
        (cov_y18dmr7jr().b[11][0]++, name) ||
        /* istanbul ignore next */
        (cov_y18dmr7jr().b[11][1]++, `${new Date(date).toLocaleDateString()} ${new Date(date).toLocaleTimeString([], {
          hour: '2-digit',
          minute: '2-digit'
        })}${trainingEnvironment ?
        /* istanbul ignore next */
        (cov_y18dmr7jr().b[12][0]++, ` - ${trainingEnvironment}`) :
        /* istanbul ignore next */
        (cov_y18dmr7jr().b[12][1]++, '')}`),
        pace: pace ?
        /* istanbul ignore next */
        (cov_y18dmr7jr().b[13][0]++, pace.pace) :
        /* istanbul ignore next */
        (cov_y18dmr7jr().b[13][1]++, null),
        paceUnit: pace ?
        /* istanbul ignore next */
        (cov_y18dmr7jr().b[14][0]++, pace.unit) :
        /* istanbul ignore next */
        (cov_y18dmr7jr().b[14][1]++, null),
        elevationGain: elevationGain ?
        /* istanbul ignore next */
        (cov_y18dmr7jr().b[15][0]++, Number(elevationGain)) :
        /* istanbul ignore next */
        (cov_y18dmr7jr().b[15][1]++, null),
        elevationGainUnit:
        /* istanbul ignore next */
        (cov_y18dmr7jr().b[17][0]++, elevationGainUnit) &&
        /* istanbul ignore next */
        (cov_y18dmr7jr().b[17][1]++, elevationGainUnit.trim() !== "") ?
        /* istanbul ignore next */
        (cov_y18dmr7jr().b[16][0]++, elevationGainUnit) :
        /* istanbul ignore next */
        (cov_y18dmr7jr().b[16][1]++, null),
        notes:
        /* istanbul ignore next */
        (cov_y18dmr7jr().b[18][0]++, notes) ||
        /* istanbul ignore next */
        (cov_y18dmr7jr().b[18][1]++, null),
        user: {
          connect: {
            id: userId
          }
        }
      }, finalShoeId ?
      /* istanbul ignore next */
      (cov_y18dmr7jr().b[19][0]++, {
        shoe: {
          connect: {
            id: finalShoeId
          }
        }
      }) :
      /* istanbul ignore next */
      (cov_y18dmr7jr().b[19][1]++, {}))
    }));
    /* istanbul ignore next */
    cov_y18dmr7jr().s[24]++;
    if (finalShoeId) {
      /* istanbul ignore next */
      cov_y18dmr7jr().b[20][0]++;
      const shoe =
      /* istanbul ignore next */
      (cov_y18dmr7jr().s[25]++, await prisma.shoe.findUnique({
        where: {
          id: finalShoeId
        },
        select: {
          distanceUnit: true
        }
      }));
      /* istanbul ignore next */
      cov_y18dmr7jr().s[26]++;
      if (shoe) {
        /* istanbul ignore next */
        cov_y18dmr7jr().b[21][0]++;
        let increment =
        /* istanbul ignore next */
        (cov_y18dmr7jr().s[27]++, Number(distance));
        /* istanbul ignore next */
        cov_y18dmr7jr().s[28]++;
        if (shoe.distanceUnit !== distanceUnit) {
          /* istanbul ignore next */
          cov_y18dmr7jr().b[22][0]++;
          cov_y18dmr7jr().s[29]++;
          increment = shoe.distanceUnit === "miles" ?
          /* istanbul ignore next */
          (cov_y18dmr7jr().b[23][0]++, Number(distance) * 0.621371) :
          /* istanbul ignore next */
          (cov_y18dmr7jr().b[23][1]++, Number(distance) * 1.60934);
        } else
        /* istanbul ignore next */
        {
          cov_y18dmr7jr().b[22][1]++;
        }
        cov_y18dmr7jr().s[30]++;
        await prisma.shoe.update({
          where: {
            id: finalShoeId
          },
          data: {
            currentDistance: {
              increment
            }
          }
        });
      } else
      /* istanbul ignore next */
      {
        cov_y18dmr7jr().b[21][1]++;
      }
    } else
    /* istanbul ignore next */
    {
      cov_y18dmr7jr().b[20][1]++;
    }

    // Estimate VDOT from this run and update user only if it's higher
    cov_y18dmr7jr().s[31]++;
    try {
      const meters =
      /* istanbul ignore next */
      (cov_y18dmr7jr().s[32]++, distanceUnit === "miles" ?
      /* istanbul ignore next */
      (cov_y18dmr7jr().b[24][0]++, Number(distance) * 1609.34) :
      /* istanbul ignore next */
      (cov_y18dmr7jr().b[24][1]++, Number(distance) * 1000));
      const seconds =
      /* istanbul ignore next */
      (cov_y18dmr7jr().s[33]++, parseDuration(duration));
      const vdot =
      /* istanbul ignore next */
      (cov_y18dmr7jr().s[34]++, Math.round(calculateVDOTJackDaniels(meters, seconds)));
      const user =
      /* istanbul ignore next */
      (cov_y18dmr7jr().s[35]++, await prisma.user.findUnique({
        where: {
          id: userId
        },
        select: {
          VDOT: true
        }
      }));
      /* istanbul ignore next */
      cov_y18dmr7jr().s[36]++;
      if (
      /* istanbul ignore next */
      (cov_y18dmr7jr().b[26][0]++, user) && (
      /* istanbul ignore next */
      (cov_y18dmr7jr().b[26][1]++, user.VDOT === null) ||
      /* istanbul ignore next */
      (cov_y18dmr7jr().b[26][2]++, vdot > user.VDOT))) {
        /* istanbul ignore next */
        cov_y18dmr7jr().b[25][0]++;
        cov_y18dmr7jr().s[37]++;
        await prisma.user.update({
          where: {
            id: userId
          },
          data: {
            VDOT: vdot
          }
        });
      } else
      /* istanbul ignore next */
      {
        cov_y18dmr7jr().b[25][1]++;
      }
    } catch (err) {
      /* istanbul ignore next */
      cov_y18dmr7jr().s[38]++;
      console.error("Failed to update VDOT", err);
    }
    /* istanbul ignore next */
    cov_y18dmr7jr().s[39]++;
    return NextResponse.json(newRun, {
      status: 201
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_y18dmr7jr().s[40]++;
    console.error("Error creating run:", error);
    /* istanbul ignore next */
    cov_y18dmr7jr().s[41]++;
    return NextResponse.json({
      error: error instanceof Error ?
      /* istanbul ignore next */
      (cov_y18dmr7jr().b[27][0]++, error.message) :
      /* istanbul ignore next */
      (cov_y18dmr7jr().b[27][1]++, "Error creating run")
    }, {
      status: 500
    });
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfeTE4ZG1yN2pyIiwiYWN0dWFsQ292ZXJhZ2UiLCJvd25LZXlzIiwiZSIsInIiLCJ0IiwiT2JqZWN0Iiwia2V5cyIsImdldE93blByb3BlcnR5U3ltYm9scyIsIm8iLCJmaWx0ZXIiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwicHVzaCIsImFwcGx5IiwiX29iamVjdFNwcmVhZCIsImFyZ3VtZW50cyIsImxlbmd0aCIsImZvckVhY2giLCJfZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzIiwiZGVmaW5lUHJvcGVydGllcyIsImRlZmluZVByb3BlcnR5IiwiTmV4dFJlc3BvbnNlIiwicHJpc21hIiwiY2FsY3VsYXRlVkRPVEphY2tEYW5pZWxzIiwicGFyc2VEdXJhdGlvbiIsIkdFVCIsInJlcXVlc3QiLCJmIiwicyIsInNlYXJjaFBhcmFtcyIsIlVSTCIsInVybCIsInVzZXJJZCIsImdldCIsImIiLCJqc29uIiwiZXJyb3IiLCJzdGF0dXMiLCJydW5zIiwicnVuIiwiZmluZE1hbnkiLCJ3aGVyZSIsIm9yZGVyQnkiLCJkYXRlIiwiY29uc29sZSIsIkVycm9yIiwibWVzc2FnZSIsIlBPU1QiLCJib2R5IiwiZHVyYXRpb24iLCJkaXN0YW5jZSIsImRpc3RhbmNlVW5pdCIsInRyYWluaW5nRW52aXJvbm1lbnQiLCJwYWNlIiwiZWxldmF0aW9uR2FpbiIsImVsZXZhdGlvbkdhaW5Vbml0Iiwibm90ZXMiLCJzaG9lSWQiLCJuYW1lIiwiaW5jbHVkZXMiLCJmaW5hbFNob2VJZCIsInVzZXIiLCJmaW5kVW5pcXVlIiwiaWQiLCJzZWxlY3QiLCJkZWZhdWx0U2hvZUlkIiwibmV3UnVuIiwiY3JlYXRlIiwiZGF0YSIsIkRhdGUiLCJOdW1iZXIiLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJ0b0xvY2FsZVRpbWVTdHJpbmciLCJob3VyIiwibWludXRlIiwicGFjZVVuaXQiLCJ1bml0IiwidHJpbSIsImNvbm5lY3QiLCJzaG9lIiwiaW5jcmVtZW50IiwidXBkYXRlIiwiY3VycmVudERpc3RhbmNlIiwibWV0ZXJzIiwic2Vjb25kcyIsInZkb3QiLCJNYXRoIiwicm91bmQiLCJWRE9UIiwiZXJyIl0sInNvdXJjZXMiOlsicm91dGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2FwcC9hcGkvcnVucy9yb3V0ZS50c1xuaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gXCJuZXh0L3NlcnZlclwiO1xuaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIkBsaWIvcHJpc21hXCI7XG5pbXBvcnQgeyBjYWxjdWxhdGVWRE9USmFja0RhbmllbHMgfSBmcm9tIFwiQHV0aWxzL3J1bm5pbmcvamFja0RhbmllbHNcIjtcbmltcG9ydCB7IHBhcnNlRHVyYXRpb24gfSBmcm9tIFwiQHV0aWxzL3RpbWVcIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIC8vIEV4dHJhY3QgdXNlcklkIGZyb20gcXVlcnkgcGFyYW1ldGVycyBmb3IgcHJvcGVyIGF1dGhvcml6YXRpb25cbiAgICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XG4gICAgY29uc3QgdXNlcklkID0gc2VhcmNoUGFyYW1zLmdldCgndXNlcklkJyk7XG4gICAgXG4gICAgaWYgKCF1c2VySWQpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogXCJVc2VyIElEIGlzIHJlcXVpcmVkXCIgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApO1xuICAgIH1cbiAgICBcbiAgICAvLyBPbmx5IHJldHVybiBydW5zIGZvciB0aGUgc3BlY2lmaWVkIHVzZXJcbiAgICBjb25zdCBydW5zID0gYXdhaXQgcHJpc21hLnJ1bi5maW5kTWFueSh7XG4gICAgICB3aGVyZTogeyB1c2VySWQgfSxcbiAgICAgIG9yZGVyQnk6IHsgZGF0ZTogJ2Rlc2MnIH1cbiAgICB9KTtcbiAgICBcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24ocnVucywgeyBzdGF0dXM6IDIwMCB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgcnVuczpcIiwgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJFcnJvciBmZXRjaGluZyBydW5zXCIgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XG4gICAgXG4gICAgLy8gVmFsaWRhdGUgcmVxdWlyZWQgZmllbGRzXG4gICAgY29uc3Qge1xuICAgICAgZGF0ZSxcbiAgICAgIGR1cmF0aW9uLFxuICAgICAgZGlzdGFuY2UsXG4gICAgICBkaXN0YW5jZVVuaXQsXG4gICAgICB0cmFpbmluZ0Vudmlyb25tZW50LFxuICAgICAgcGFjZSwgLy8gZXhwZWN0ZWQgZm9ybWF0OiB7IHBhY2U6IHN0cmluZywgdW5pdDogXCJtaWxlc1wiIHwgXCJraWxvbWV0ZXJzXCIgfSBvciBudWxsXG4gICAgICBlbGV2YXRpb25HYWluLFxuICAgICAgZWxldmF0aW9uR2FpblVuaXQsXG4gICAgICBub3RlcyxcbiAgICAgIHVzZXJJZCxcbiAgICAgIHNob2VJZCxcbiAgICAgIG5hbWUsXG4gICAgfSA9IGJvZHk7XG4gICAgXG4gICAgLy8gVmFsaWRhdGUgcmVxdWlyZWQgZmllbGRzXG4gICAgaWYgKCFkYXRlIHx8ICFkdXJhdGlvbiB8fCAhZGlzdGFuY2UgfHwgIWRpc3RhbmNlVW5pdCB8fCAhdXNlcklkKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6IFwiTWlzc2luZyByZXF1aXJlZCBmaWVsZHM6IGRhdGUsIGR1cmF0aW9uLCBkaXN0YW5jZSwgZGlzdGFuY2VVbml0LCB1c2VySWRcIiB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuICAgIFxuICAgIC8vIFZhbGlkYXRlIGRhdGEgdHlwZXMgYW5kIHJhbmdlc1xuICAgIGlmICh0eXBlb2YgZGlzdGFuY2UgIT09ICdudW1iZXInIHx8IGRpc3RhbmNlIDw9IDApIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogXCJEaXN0YW5jZSBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyXCIgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApO1xuICAgIH1cbiAgICBcbiAgICBpZiAoIVsnbWlsZXMnLCAna2lsb21ldGVycyddLmluY2x1ZGVzKGRpc3RhbmNlVW5pdCkpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogXCJEaXN0YW5jZSB1bml0IG11c3QgYmUgJ21pbGVzJyBvciAna2lsb21ldGVycydcIiB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgbGV0IGZpbmFsU2hvZUlkOiBzdHJpbmcgfCB1bmRlZmluZWQgPSBzaG9lSWQ7XG4gICAgaWYgKCFmaW5hbFNob2VJZCAmJiB1c2VySWQpIHtcbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBwcmlzbWEudXNlci5maW5kVW5pcXVlKHtcbiAgICAgICAgd2hlcmU6IHsgaWQ6IHVzZXJJZCB9LFxuICAgICAgICBzZWxlY3Q6IHsgZGVmYXVsdFNob2VJZDogdHJ1ZSB9LFxuICAgICAgfSk7XG4gICAgICBpZiAodXNlcj8uZGVmYXVsdFNob2VJZCkge1xuICAgICAgICBmaW5hbFNob2VJZCA9IHVzZXIuZGVmYXVsdFNob2VJZDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBuZXdSdW4gPSBhd2FpdCBwcmlzbWEucnVuLmNyZWF0ZSh7XG4gICAgICBkYXRhOiB7XG4gICAgICAgIGRhdGU6IG5ldyBEYXRlKGRhdGUpLFxuICAgICAgICBkdXJhdGlvbixcbiAgICAgICAgZGlzdGFuY2U6IE51bWJlcihkaXN0YW5jZSksXG4gICAgICAgIGRpc3RhbmNlVW5pdCxcbiAgICAgICAgdHJhaW5pbmdFbnZpcm9ubWVudDogdHJhaW5pbmdFbnZpcm9ubWVudCB8fCBudWxsLFxuICAgICAgICBuYW1lOiBuYW1lIHx8IGAke25ldyBEYXRlKGRhdGUpLnRvTG9jYWxlRGF0ZVN0cmluZygpfSAke25ldyBEYXRlKGRhdGUpLnRvTG9jYWxlVGltZVN0cmluZyhbXSwgeyBob3VyOiAnMi1kaWdpdCcsIG1pbnV0ZTogJzItZGlnaXQnIH0pfSR7dHJhaW5pbmdFbnZpcm9ubWVudCA/IGAgLSAke3RyYWluaW5nRW52aXJvbm1lbnR9YCA6ICcnfWAsXG4gICAgICAgIHBhY2U6IHBhY2UgPyBwYWNlLnBhY2UgOiBudWxsLFxuICAgICAgICBwYWNlVW5pdDogcGFjZSA/IHBhY2UudW5pdCA6IG51bGwsXG4gICAgICAgIGVsZXZhdGlvbkdhaW46IGVsZXZhdGlvbkdhaW4gPyBOdW1iZXIoZWxldmF0aW9uR2FpbikgOiBudWxsLFxuICAgICAgICBlbGV2YXRpb25HYWluVW5pdDpcbiAgICAgICAgICBlbGV2YXRpb25HYWluVW5pdCAmJiBlbGV2YXRpb25HYWluVW5pdC50cmltKCkgIT09IFwiXCJcbiAgICAgICAgICAgID8gZWxldmF0aW9uR2FpblVuaXRcbiAgICAgICAgICAgIDogbnVsbCxcbiAgICAgICAgbm90ZXM6IG5vdGVzIHx8IG51bGwsXG4gICAgICAgIHVzZXI6IHsgY29ubmVjdDogeyBpZDogdXNlcklkIH0gfSxcbiAgICAgICAgLi4uKGZpbmFsU2hvZUlkID8geyBzaG9lOiB7IGNvbm5lY3Q6IHsgaWQ6IGZpbmFsU2hvZUlkIH0gfSB9IDoge30pLFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIGlmIChmaW5hbFNob2VJZCkge1xuICAgICAgY29uc3Qgc2hvZSA9IGF3YWl0IHByaXNtYS5zaG9lLmZpbmRVbmlxdWUoe1xuICAgICAgICB3aGVyZTogeyBpZDogZmluYWxTaG9lSWQgfSxcbiAgICAgICAgc2VsZWN0OiB7IGRpc3RhbmNlVW5pdDogdHJ1ZSB9LFxuICAgICAgfSk7XG4gICAgICBpZiAoc2hvZSkge1xuICAgICAgICBsZXQgaW5jcmVtZW50ID0gTnVtYmVyKGRpc3RhbmNlKTtcbiAgICAgICAgaWYgKHNob2UuZGlzdGFuY2VVbml0ICE9PSBkaXN0YW5jZVVuaXQpIHtcbiAgICAgICAgICBpbmNyZW1lbnQgPVxuICAgICAgICAgICAgc2hvZS5kaXN0YW5jZVVuaXQgPT09IFwibWlsZXNcIlxuICAgICAgICAgICAgICA/IE51bWJlcihkaXN0YW5jZSkgKiAwLjYyMTM3MVxuICAgICAgICAgICAgICA6IE51bWJlcihkaXN0YW5jZSkgKiAxLjYwOTM0O1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IHByaXNtYS5zaG9lLnVwZGF0ZSh7XG4gICAgICAgICAgd2hlcmU6IHsgaWQ6IGZpbmFsU2hvZUlkIH0sXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgY3VycmVudERpc3RhbmNlOiB7XG4gICAgICAgICAgICAgIGluY3JlbWVudCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRXN0aW1hdGUgVkRPVCBmcm9tIHRoaXMgcnVuIGFuZCB1cGRhdGUgdXNlciBvbmx5IGlmIGl0J3MgaGlnaGVyXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG1ldGVycyA9XG4gICAgICAgIGRpc3RhbmNlVW5pdCA9PT0gXCJtaWxlc1wiID8gTnVtYmVyKGRpc3RhbmNlKSAqIDE2MDkuMzQgOiBOdW1iZXIoZGlzdGFuY2UpICogMTAwMDtcbiAgICAgIGNvbnN0IHNlY29uZHMgPSBwYXJzZUR1cmF0aW9uKGR1cmF0aW9uKTtcbiAgICAgIGNvbnN0IHZkb3QgPSBNYXRoLnJvdW5kKGNhbGN1bGF0ZVZET1RKYWNrRGFuaWVscyhtZXRlcnMsIHNlY29uZHMpKTtcbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBwcmlzbWEudXNlci5maW5kVW5pcXVlKHtcbiAgICAgICAgd2hlcmU6IHsgaWQ6IHVzZXJJZCB9LFxuICAgICAgICBzZWxlY3Q6IHsgVkRPVDogdHJ1ZSB9LFxuICAgICAgfSk7XG4gICAgICBpZiAodXNlciAmJiAodXNlci5WRE9UID09PSBudWxsIHx8IHZkb3QgPiB1c2VyLlZET1QpKSB7XG4gICAgICAgIGF3YWl0IHByaXNtYS51c2VyLnVwZGF0ZSh7IHdoZXJlOiB7IGlkOiB1c2VySWQgfSwgZGF0YTogeyBWRE9UOiB2ZG90IH0gfSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIHVwZGF0ZSBWRE9UXCIsIGVycik7XG4gICAgfVxuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKG5ld1J1biwgeyBzdGF0dXM6IDIwMSB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgcnVuOlwiLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAge1xuICAgICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkVycm9yIGNyZWF0aW5nIHJ1blwiLFxuICAgICAgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBZVk7SUFBQUEsYUFBQSxZQUFBQSxDQUFBO01BQUEsT0FBQUMsY0FBQTtJQUFBO0VBQUE7RUFBQSxPQUFBQSxjQUFBO0FBQUE7QUFBQUQsYUFBQTtBQUFBLFNBQUFFLFFBQUFDLENBQUEsRUFBQUMsQ0FBQSxRQUFBQyxDQUFBLEdBQUFDLE1BQUEsQ0FBQUMsSUFBQSxDQUFBSixDQUFBLE9BQUFHLE1BQUEsQ0FBQUUscUJBQUEsUUFBQUMsQ0FBQSxHQUFBSCxNQUFBLENBQUFFLHFCQUFBLENBQUFMLENBQUEsR0FBQUMsQ0FBQSxLQUFBSyxDQUFBLEdBQUFBLENBQUEsQ0FBQUMsTUFBQSxXQUFBTixDQUFBLFdBQUFFLE1BQUEsQ0FBQUssd0JBQUEsQ0FBQVIsQ0FBQSxFQUFBQyxDQUFBLEVBQUFRLFVBQUEsT0FBQVAsQ0FBQSxDQUFB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