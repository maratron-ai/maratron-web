{"version":3,"names":["_getJestObj","mock","_interopRequireDefault","require","_defineProperty2","_react","_react2","_userEvent","_SocialProfileEditForm","_social","_jsxFileName","__jsx","default","createElement","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","jest","mockedUpdate","updateSocialProfile","profile","id","userId","username","bio","createdAt","Date","updatedAt","describe","beforeEach","clearAllMocks","it","mockResolvedValue","onUpdated","fn","user","userEvent","setup","render","__self","__source","fileName","lineNumber","columnNumber","clear","screen","getByLabelText","type","click","getByRole","name","expect","toHaveBeenCalledWith","toHaveBeenCalled","findByText","toBeInTheDocument"],"sources":["SocialProfileEditForm.test.tsx"],"sourcesContent":["import \"@testing-library/jest-dom\";\nimport React from \"react\";\nimport { render, screen } from \"@testing-library/react\";\nimport userEvent from \"@testing-library/user-event\";\nimport SocialProfileEditForm from \"@components/social/SocialProfileEditForm\";\nimport { updateSocialProfile } from \"@lib/api/social\";\nimport type { SocialProfile } from \"@maratypes/social\";\n\njest.mock(\"@lib/api/social\");\n\nconst mockedUpdate = updateSocialProfile as jest.MockedFunction<typeof updateSocialProfile>;\n\nconst profile: SocialProfile = {\n  id: \"p1\",\n  userId: \"u1\",\n  username: \"runner\",\n  bio: \"hi\",\n  createdAt: new Date(),\n  updatedAt: new Date(),\n};\n\ndescribe(\"SocialProfileEditForm\", () => {\n  beforeEach(() => jest.clearAllMocks());\n\n  it(\"updates profile\", async () => {\n    mockedUpdate.mockResolvedValue({ ...profile, username: \"new\", bio: \"bye\" });\n    const onUpdated = jest.fn();\n    const user = userEvent.setup();\n\n    render(<SocialProfileEditForm profile={profile} onUpdated={onUpdated} />);\n\n    await user.clear(screen.getByLabelText(/username/i));\n    await user.type(screen.getByLabelText(/username/i), \"new\");\n    await user.clear(screen.getByLabelText(/bio/i));\n    await user.type(screen.getByLabelText(/bio/i), \"bye\");\n    await user.click(screen.getByRole(\"button\", { name: /save changes/i }));\n\n    expect(mockedUpdate).toHaveBeenCalledWith(\"p1\", {\n      username: \"new\",\n      bio: \"bye\",\n    });\n    expect(onUpdated).toHaveBeenCalled();\n    expect(await screen.findByText(/profile updated/i)).toBeInTheDocument();\n  });\n});\n"],"mappings":";;AAQAA,WAAA,GAAKC,IAAI,CAAC,iBAAiB,CAAC;AAAC,IAAAC,sBAAA,GAAAC,OAAA;AAAA,IAAAC,gBAAA,GAAAF,sBAAA,CAAAC,OAAA;AAR7BA,OAAA;AACA,IAAAE,MAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,OAAA,GAAAH,OAAA;AACA,IAAAI,UAAA,GAAAL,sBAAA,CAAAC,OAAA;AACA,IAAAK,sBAAA,GAAAN,sBAAA,CAAAC,OAAA;AACA,IAAAM,OAAA,GAAAN,OAAA;AAAsD,IAAAO,YAAA;AAAA,IAAAC,KAAA,GAAAN,MAAA,CAAAO,OAAA,CAAAC,aAAA;AAAA,SAAAC,QAAAC,CAAA,EAAAC,CAAA,QAAAC,CAAA,GAAAC,MAAA,CAAAC,IAAA,CAAAJ,CAAA,OAAAG,MAAA,CAAAE,qBAAA,QAAAC,CAAA,GAAAH,MAAA,CAAAE,qBAAA,CAAAL,CAAA,GAAAC,CAAA,KAAAK,CAAA,GAAAA,CAAA,CAAAC,MAAA,WAAAN,CAAA,WAAAE,MAAA,CAAAK,wBAAA,CAAAR,CAAA,EAAAC,CAAA,EAAAQ,UAAA,OAAAP,CAAA,CAAAQ,IAAA,CAAAC,KAAA,CAAAT,CAAA,EAAAI,CAAA,YAAAJ,CAAA;AAAA,SAAAU,cAAAZ,CAAA,aAAAC,CAAA,MAAAA,CAAA,GAAAY,SAAA,CAAAC,MAAA,EAAAb,CAAA,UAAAC,CAAA,WAAAW,SAAA,CAAAZ,CAAA,IAAAY,SAAA,CAAAZ,CAAA,QAAAA,CAAA,OAAAF,OAAA,CAAAI,MAAA,CAAAD,CAAA,OAAAa,OAAA,WAAAd,CAAA,QAAAZ,gBAAA,CAAAQ,OAAA,EAAAG,CAAA,EAAAC,CAAA,EAAAC,CAAA,CAAAD,CAAA,SAAAE,MAAA,CAAAa,yBAAA,GAAAb,MAAA,CAAAc,gBAAA,CAAAjB,CAAA,EAAAG,MAAA,CAAAa,yBAAA,CAAAd,CAAA,KAAAH,OAAA,CAAAI,MAAA,CAAAD,CAAA,GAAAa,OAAA,WAAAd,CAAA,IAAAE,MAAA,CAAAe,cAAA,CAAAlB,CAAA,EAAAC,CAAA,EAAAE,MAAA,CAAAK,wBAAA,CAAAN,CAAA,EAAAD,CAAA,iBAAAD,CAAA;AAAA,SAAAf,YAAA;EAAA;IAAAkC;EAAA,IAAA/B,OAAA;EAAAH,WAAA,GAAAA,CAAA,KAAAkC,IAAA;EAAA,OAAAA,IAAA;AAAA;AAKtD,MAAMC,YAAY,GAAGC,2BAAsE;AAE3F,MAAMC,OAAsB,GAAG;EAC7BC,EAAE,EAAE,IAAI;EACRC,MAAM,EAAE,IAAI;EACZC,QAAQ,EAAE,QAAQ;EAClBC,GAAG,EAAE,IAAI;EACTC,SAAS,EAAE,IAAIC,IAAI,CAAC,CAAC;EACrBC,SAAS,EAAE,IAAID,IAAI,CAAC;AACtB,CAAC;AAEDE,QAAQ,CAAC,uBAAuB,EAAE,MAAM;EACtCC,UAAU,CAAC,MAAMZ,IAAI,CAACa,aAAa,CAAC,CAAC,CAAC;EAEtCC,EAAE,CAAC,iBAAiB,EAAE,YAAY;IAChCb,YAAY,CAACc,iBAAiB,CAAAtB,aAAA,CAAAA,aAAA,KAAMU,OAAO;MAAEG,QAAQ,EAAE,KAAK;MAAEC,GAAG,EAAE;IAAK,EAAE,CAAC;IAC3E,MAAMS,SAAS,GAAGhB,IAAI,CAACiB,EAAE,CAAC,CAAC;IAC3B,MAAMC,IAAI,GAAGC,kBAAS,CAACC,KAAK,CAAC,CAAC;IAE9B,IAAAC,cAAM,EAAC5C,KAAA,CAACH,sBAAA,CAAAI,OAAqB;MAACyB,OAAO,EAAEA,OAAQ;MAACa,SAAS,EAAEA,SAAU;MAAAM,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAhD,YAAA;QAAAiD,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CAAC,CAAC;IAEzE,MAAMR,IAAI,CAACS,KAAK,CAACC,cAAM,CAACC,cAAc,CAAC,WAAW,CAAC,CAAC;IACpD,MAAMX,IAAI,CAACY,IAAI,CAACF,cAAM,CAACC,cAAc,CAAC,WAAW,CAAC,EAAE,KAAK,CAAC;IAC1D,MAAMX,IAAI,CAACS,KAAK,CAACC,cAAM,CAACC,cAAc,CAAC,MAAM,CAAC,CAAC;IAC/C,MAAMX,IAAI,CAACY,IAAI,CAACF,cAAM,CAACC,cAAc,CAAC,MAAM,CAAC,EAAE,KAAK,CAAC;IACrD,MAAMX,IAAI,CAACa,KAAK,CAACH,cAAM,CAACI,SAAS,CAAC,QAAQ,EAAE;MAAEC,IAAI,EAAE;IAAgB,CAAC,CAAC,CAAC;IAEvEC,MAAM,CAACjC,YAAY,CAAC,CAACkC,oBAAoB,CAAC,IAAI,EAAE;MAC9C7B,QAAQ,EAAE,KAAK;MACfC,GAAG,EAAE;IACP,CAAC,CAAC;IACF2B,MAAM,CAAClB,SAAS,CAAC,CAACoB,gBAAgB,CAAC,CAAC;IACpCF,MAAM,CAAC,MAAMN,cAAM,CAACS,UAAU,CAAC,kBAAkB,CAAC,CAAC,CAACC,iBAAiB,CAAC,CAAC;EACzE,CAAC,CAAC;AACJ,CAAC,CAAC","ignoreList":[]}