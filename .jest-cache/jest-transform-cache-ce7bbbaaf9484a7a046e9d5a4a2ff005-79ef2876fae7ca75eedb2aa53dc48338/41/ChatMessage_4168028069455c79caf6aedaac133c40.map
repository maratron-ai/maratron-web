{"version":3,"names":["_avatar","require","_badge","_card","_skeleton","_lucideReact","_cn","_jsxFileName","__jsx","_react","default","createElement","ChatMessage","role","content","timestamp","isLoading","toolCalls","avatarUrl","userName","isUser","isSystem","className","__self","__source","fileName","lineNumber","columnNumber","cn","Avatar","AvatarImage","src","alt","AvatarFallback","Bot","length","map","tool","index","Badge","key","variant","Zap","name","Card","CardContent","Skeleton","style","wordWrap","overflowWrap","wordBreak","toLocaleTimeString","hour","minute","User"],"sources":["ChatMessage.tsx"],"sourcesContent":["/**\n * ChatMessage Component - Displays individual chat messages\n */\n\nimport { Avatar, AvatarFallback, AvatarImage } from '@components/ui/avatar';\nimport { Badge } from '@components/ui/badge';\nimport { Card, CardContent } from '@components/ui/card';\nimport { Skeleton } from '@components/ui/skeleton';\nimport { Bot, User, Zap } from 'lucide-react';\nimport { cn } from '@lib/utils/cn';\n\ninterface ChatMessageProps {\n  role: 'user' | 'assistant' | 'system';\n  content: string;\n  timestamp?: Date;\n  isLoading?: boolean;\n  toolCalls?: Array<{ name: string; arguments: Record<string, unknown> }>;\n  avatarUrl?: string;\n  userName?: string;\n}\n\nexport function ChatMessage({\n  role,\n  content,\n  timestamp,\n  isLoading = false,\n  toolCalls,\n  avatarUrl,\n  userName\n}: ChatMessageProps) {\n  const isUser = role === 'user';\n  const isSystem = role === 'system';\n\n  if (isSystem) return null; // Don't render system messages\n\n  return (\n    <div className=\"w-full px-4 py-2\">\n      <div className={cn(\n        'flex gap-3 max-w-full',\n        isUser ? 'justify-end' : 'justify-start'\n      )}>\n        {!isUser && (\n          <Avatar className=\"h-8 w-8 mt-1 flex-shrink-0\">\n            <AvatarImage src=\"/tron.svg\" alt=\"Maratron AI\" />\n            <AvatarFallback>\n              <Bot className=\"h-4 w-4\" />\n            </AvatarFallback>\n          </Avatar>\n        )}\n\n        <div className={cn(\n          'max-w-[calc(100%-4rem)] min-w-0 space-y-2',\n          isUser ? 'flex flex-col items-end' : 'flex flex-col items-start'\n        )}>\n          {/* Tool calls indicator */}\n          {toolCalls && toolCalls.length > 0 && (\n            <div className=\"flex flex-wrap gap-1 mb-2\">\n              {toolCalls.map((tool, index) => (\n                <Badge key={index} variant=\"secondary\" className=\"text-xs\">\n                  <Zap className=\"h-3 w-3 mr-1\" />\n                  {tool.name}\n                </Badge>\n              ))}\n            </div>\n          )}\n\n          {/* Message content */}\n          <Card className={cn(\n            'relative max-w-full min-w-0',\n            isUser \n              ? 'bg-primary text-primary-foreground' \n              : 'bg-muted'\n          )}>\n            <CardContent className=\"p-3 min-w-0 max-w-full\">\n              {isLoading ? (\n                <div className=\"space-y-2\">\n                  <Skeleton className=\"h-4 w-full\" />\n                  <Skeleton className=\"h-4 w-3/4\" />\n                </div>\n              ) : (\n                <div \n                  className=\"text-sm whitespace-pre-wrap break-all min-w-0 max-w-full\"\n                  style={{ \n                    wordWrap: 'break-word',\n                    overflowWrap: 'anywhere',\n                    wordBreak: 'break-word'\n                  }}\n                >\n                  {content}\n                </div>\n              )}\n            </CardContent>\n          </Card>\n\n          {/* Timestamp */}\n          {timestamp && (\n            <div className={cn(\n              'text-xs text-muted-foreground',\n              isUser ? 'text-right' : 'text-left'\n            )}>\n              {timestamp.toLocaleTimeString([], { \n                hour: '2-digit', \n                minute: '2-digit' \n              })}\n            </div>\n          )}\n        </div>\n\n        {isUser && (\n          <Avatar className=\"h-8 w-8 mt-1 flex-shrink-0\">\n            <AvatarImage src={avatarUrl} alt={userName} />\n            <AvatarFallback>\n              <User className=\"h-4 w-4\" />\n            </AvatarFallback>\n          </Avatar>\n        )}\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]}