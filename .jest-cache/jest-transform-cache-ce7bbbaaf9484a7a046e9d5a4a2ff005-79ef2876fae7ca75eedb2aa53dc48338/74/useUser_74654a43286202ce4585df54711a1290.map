{"version":3,"names":["cov_2hvsq6h7zd","actualCoverage","useSession","useEffect","useState","axios","useUser","f","data","session","s","profile","setProfile","loading","setLoading","user","id","b","get","then","res","catch","finally"],"sources":["useUser.ts"],"sourcesContent":["// src/hooks/useUser.ts\nimport { useSession } from \"next-auth/react\";\nimport { useEffect, useState } from \"react\";\nimport { User } from \"@maratypes/user\";\nimport axios from \"axios\";\n\nexport function useUser() {\n  const { data: session } = useSession();\n  const [profile, setProfile] = useState<User | null>(null);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    if (session?.user?.id) {\n      setLoading(true);\n      axios\n        .get(`/api/users/${session.user.id}`)\n        .then((res) => setProfile(res.data))\n        .catch(() => setProfile(null))\n        .finally(() => setLoading(false));\n    } else {\n      setProfile(null);\n    }\n  }, [session?.user?.id]);\n\n  return { profile, loading };\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAeY;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AAfZ;AACA,SAASE,UAAU,QAAQ,iBAAiB;AAC5C,SAASC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAE3C,OAAOC,KAAK,MAAM,OAAO;AAEzB,OAAO,SAASC,OAAOA,CAAA,EAAG;EAAA;EAAAN,cAAA,GAAAO,CAAA;EACxB,MAAM;IAAEC,IAAI,EAAEC;EAAQ,CAAC;EAAA;EAAA,CAAAT,cAAA,GAAAU,CAAA,OAAGR,UAAU,CAAC,CAAC;EACtC,MAAM,CAACS,OAAO,EAAEC,UAAU,CAAC;EAAA;EAAA,CAAAZ,cAAA,GAAAU,CAAA,OAAGN,QAAQ,CAAc,IAAI,CAAC;EACzD,MAAM,CAACS,OAAO,EAAEC,UAAU,CAAC;EAAA;EAAA,CAAAd,cAAA,GAAAU,CAAA,OAAGN,QAAQ,CAAC,KAAK,CAAC;EAAC;EAAAJ,cAAA,GAAAU,CAAA;EAE9CP,SAAS,CAAC,MAAM;IAAA;IAAAH,cAAA,GAAAO,CAAA;IAAAP,cAAA,GAAAU,CAAA;IACd,IAAID,OAAO,EAAEM,IAAI,EAAEC,EAAE,EAAE;MAAA;MAAAhB,cAAA,GAAAiB,CAAA;MAAAjB,cAAA,GAAAU,CAAA;MACrBI,UAAU,CAAC,IAAI,CAAC;MAAC;MAAAd,cAAA,GAAAU,CAAA;MACjBL,KAAK,CACFa,GAAG,CAAC,cAAcT,OAAO,CAACM,IAAI,CAACC,EAAE,EAAE,CAAC,CACpCG,IAAI,CAAEC,GAAG,IAAK;QAAA;QAAApB,cAAA,GAAAO,CAAA;QAAAP,cAAA,GAAAU,CAAA;QAAA,OAAAE,UAAU,CAACQ,GAAG,CAACZ,IAAI,CAAC;MAAD,CAAC,CAAC,CACnCa,KAAK,CAAC,MAAM;QAAA;QAAArB,cAAA,GAAAO,CAAA;QAAAP,cAAA,GAAAU,CAAA;QAAA,OAAAE,UAAU,CAAC,IAAI,CAAC;MAAD,CAAC,CAAC,CAC7BU,OAAO,CAAC,MAAM;QAAA;QAAAtB,cAAA,GAAAO,CAAA;QAAAP,cAAA,GAAAU,CAAA;QAAA,OAAAI,UAAU,CAAC,KAAK,CAAC;MAAD,CAAC,CAAC;IACrC,CAAC,MAAM;MAAA;MAAAd,cAAA,GAAAiB,CAAA;MAAAjB,cAAA,GAAAU,CAAA;MACLE,UAAU,CAAC,IAAI,CAAC;IAClB;EACF,CAAC,EAAE,CAACH,OAAO,EAAEM,IAAI,EAAEC,EAAE,CAAC,CAAC;EAAC;EAAAhB,cAAA,GAAAU,CAAA;EAExB,OAAO;IAAEC,OAAO;IAAEE;EAAQ,CAAC;AAC7B","ignoreList":[]}