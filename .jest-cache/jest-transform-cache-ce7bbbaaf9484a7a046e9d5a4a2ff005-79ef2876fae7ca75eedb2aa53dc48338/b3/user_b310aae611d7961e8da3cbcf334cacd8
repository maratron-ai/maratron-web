e4ee997057cbb42689606a3f4f0404fd
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.uploadAvatar = exports.updateUser = exports.getUser = exports.createUser = void 0;
var _axios = _interopRequireDefault(require("axios"));
//src/lib/api/user/user.ts

const uploadAvatar = async file => {
  const formData = new FormData();
  formData.append("file", file);
  const res = await _axios.default.post("/api/upload", formData, {
    headers: {
      "Content-Type": "multipart/form-data"
    }
  });
  return res.data.url;
};

// updates
exports.uploadAvatar = uploadAvatar;
const updateUser = async (userId, data) => {
  // put req
  const response = await _axios.default.put(`/api/users/${userId}`, data);
  return response.data;
};

// creates new
exports.updateUser = updateUser;
const createUser = async data => {
  // post req
  const response = await _axios.default.post(`/api/users`, data);
  return response;
};

// fetch by id
exports.createUser = createUser;
const getUser = async userId => {
  const response = await _axios.default.get(`/api/users/${userId}`);
  return response.data;
};
exports.getUser = getUser;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYXhpb3MiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsInVwbG9hZEF2YXRhciIsImZpbGUiLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwiYXBwZW5kIiwicmVzIiwiYXhpb3MiLCJwb3N0IiwiaGVhZGVycyIsImRhdGEiLCJ1cmwiLCJleHBvcnRzIiwidXBkYXRlVXNlciIsInVzZXJJZCIsInJlc3BvbnNlIiwicHV0IiwiY3JlYXRlVXNlciIsImdldFVzZXIiLCJnZXQiXSwic291cmNlcyI6WyJ1c2VyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vc3JjL2xpYi9hcGkvdXNlci91c2VyLnRzXG5cbmltcG9ydCBheGlvcyBmcm9tIFwiYXhpb3NcIjtcbmltcG9ydCB7IFVzZXIgfSBmcm9tIFwiQG1hcmF0eXBlcy91c2VyXCI7XG5cbmV4cG9ydCBjb25zdCB1cGxvYWRBdmF0YXIgPSBhc3luYyAoZmlsZTogRmlsZSk6IFByb21pc2U8c3RyaW5nPiA9PiB7XG4gIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gIGZvcm1EYXRhLmFwcGVuZChcImZpbGVcIiwgZmlsZSk7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IGF4aW9zLnBvc3QoXCIvYXBpL3VwbG9hZFwiLCBmb3JtRGF0YSwge1xuICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJtdWx0aXBhcnQvZm9ybS1kYXRhXCIgfSxcbiAgfSk7XG4gIHJldHVybiByZXMuZGF0YS51cmwgYXMgc3RyaW5nO1xufTtcblxuXG4vLyB1cGRhdGVzXG5leHBvcnQgY29uc3QgdXBkYXRlVXNlciA9IGFzeW5jIChcbiAgdXNlcklkOiBzdHJpbmcsXG4gIGRhdGE6IFBhcnRpYWw8VXNlcj5cbikgPT4ge1xuICAvLyBwdXQgcmVxXG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucHV0KGAvYXBpL3VzZXJzLyR7dXNlcklkfWAsIGRhdGEpO1xuICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbn07XG5cblxuLy8gY3JlYXRlcyBuZXdcbmV4cG9ydCBjb25zdCBjcmVhdGVVc2VyID0gYXN5bmMgKGRhdGE6IFBhcnRpYWw8VXNlcj4pID0+IHtcbiAgLy8gcG9zdCByZXFcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5wb3N0KGAvYXBpL3VzZXJzYCwgZGF0YSk7XG4gIHJldHVybiByZXNwb25zZTtcbn07XG5cbi8vIGZldGNoIGJ5IGlkXG5leHBvcnQgY29uc3QgZ2V0VXNlciA9IGFzeW5jICh1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8VXNlcj4gPT4ge1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldChgL2FwaS91c2Vycy8ke3VzZXJJZH1gKTtcbiAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG59O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBRUEsSUFBQUEsTUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBRkE7O0FBS08sTUFBTUMsWUFBWSxHQUFHLE1BQU9DLElBQVUsSUFBc0I7RUFDakUsTUFBTUMsUUFBUSxHQUFHLElBQUlDLFFBQVEsQ0FBQyxDQUFDO0VBQy9CRCxRQUFRLENBQUNFLE1BQU0sQ0FBQyxNQUFNLEVBQUVILElBQUksQ0FBQztFQUM3QixNQUFNSSxHQUFHLEdBQUcsTUFBTUMsY0FBSyxDQUFDQyxJQUFJLENBQUMsYUFBYSxFQUFFTCxRQUFRLEVBQUU7SUFDcERNLE9BQU8sRUFBRTtNQUFFLGNBQWMsRUFBRTtJQUFzQjtFQUNuRCxDQUFDLENBQUM7RUFDRixPQUFPSCxHQUFHLENBQUNJLElBQUksQ0FBQ0MsR0FBRztBQUNyQixDQUFDOztBQUdEO0FBQUFDLE9BQUEsQ0FBQVgsWUFBQSxHQUFBQSxZQUFBO0FBQ08sTUFBTVksVUFBVSxHQUFHLE1BQUFBLENBQ3hCQyxNQUFjLEVBQ2RKLElBQW1CLEtBQ2hCO0VBQ0g7RUFDQSxNQUFNSyxRQUFRLEdBQUcsTUFBTVIsY0FBSyxDQUFDUyxHQUFHLENBQUMsY0FBY0YsTUFBTSxFQUFFLEVBQUVKLElBQUksQ0FBQztFQUM5RCxPQUFPSyxRQUFRLENBQUNMLElBQUk7QUFDdEIsQ0FBQzs7QUFHRDtBQUFBRSxPQUFBLENBQUFDLFVBQUEsR0FBQUEsVUFBQTtBQUNPLE1BQU1JLFVBQVUsR0FBRyxNQUFPUCxJQUFtQixJQUFLO0VBQ3ZEO0VBQ0EsTUFBTUssUUFBUSxHQUFHLE1BQU1SLGNBQUssQ0FBQ0MsSUFBSSxDQUFDLFlBQVksRUFBRUUsSUFBSSxDQUFDO0VBQ3JELE9BQU9LLFFBQVE7QUFDakIsQ0FBQzs7QUFFRDtBQUFBSCxPQUFBLENBQUFLLFVBQUEsR0FBQUEsVUFBQTtBQUNPLE1BQU1DLE9BQU8sR0FBRyxNQUFPSixNQUFjLElBQW9CO0VBQzlELE1BQU1DLFFBQVEsR0FBRyxNQUFNUixjQUFLLENBQUNZLEdBQUcsQ0FBQyxjQUFjTCxNQUFNLEVBQUUsQ0FBQztFQUN4RCxPQUFPQyxRQUFRLENBQUNMLElBQUk7QUFDdEIsQ0FBQztBQUFDRSxPQUFBLENBQUFNLE9BQUEsR0FBQUEsT0FBQSIsImlnbm9yZUxpc3QiOltdfQ==