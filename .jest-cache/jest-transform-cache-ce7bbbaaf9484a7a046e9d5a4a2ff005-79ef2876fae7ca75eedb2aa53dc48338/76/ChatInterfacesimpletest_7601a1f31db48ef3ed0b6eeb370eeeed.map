{"version":3,"names":["_getJestObj","mock","useSession","jest","fn","_interopRequireDefault","require","_react","_react2","_ChatInterface","_react3","_jsxFileName","__jsx","default","createElement","global","fetch","mockSession","user","id","name","email","describe","beforeEach","clearAllMocks","mockResolvedValue","ok","json","Promise","resolve","role","content","it","mockReturnValue","data","status","render","ChatInterface","__self","__source","fileName","lineNumber","columnNumber","expect","screen","getByText","toBeInTheDocument","getByRole","textarea","fireEvent","change","target","value","toHaveValue"],"sources":["ChatInterface-simple.test.tsx"],"sourcesContent":["import '@testing-library/jest-dom';\nimport React from 'react';\nimport { render, screen, fireEvent } from '@testing-library/react';\nimport { ChatInterface } from '../chat/ChatInterface';\nimport { useSession } from 'next-auth/react';\n\n// Mock NextAuth\njest.mock('next-auth/react', () => ({\n  useSession: jest.fn(),\n}));\n\n// Mock fetch\nglobal.fetch = jest.fn();\n\nconst mockSession = {\n  user: {\n    id: 'test-user-id',\n    name: 'Test User',\n    email: 'test@example.com',\n  },\n};\n\ndescribe('ChatInterface', () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n    (fetch as jest.Mock).mockResolvedValue({\n      ok: true,\n      json: () => Promise.resolve({\n        id: 'test-message-id',\n        role: 'assistant',\n        content: 'Test response',\n      }),\n    });\n  });\n\n  it('shows loading state when session is loading', () => {\n    (useSession as jest.Mock).mockReturnValue({\n      data: null,\n      status: 'loading',\n    });\n\n    render(<ChatInterface />);\n    expect(screen.getByText('Loading...')).toBeInTheDocument();\n  });\n\n  it('shows authentication required when not authenticated', () => {\n    (useSession as jest.Mock).mockReturnValue({\n      data: null,\n      status: 'unauthenticated',\n    });\n\n    render(<ChatInterface />);\n    expect(screen.getByText(/Please sign in to access/)).toBeInTheDocument();\n  });\n\n  it('renders chat interface when authenticated', () => {\n    (useSession as jest.Mock).mockReturnValue({\n      data: mockSession,\n      status: 'authenticated',\n    });\n\n    render(<ChatInterface />);\n    expect(screen.getByText('Maratron AI')).toBeInTheDocument();\n    expect(screen.getByRole('textbox')).toBeInTheDocument();\n  });\n\n  it('displays quick action buttons', () => {\n    (useSession as jest.Mock).mockReturnValue({\n      data: mockSession,\n      status: 'authenticated',\n    });\n\n    render(<ChatInterface />);\n    expect(screen.getByText('Recent Runs')).toBeInTheDocument();\n    expect(screen.getByText('Training Summary')).toBeInTheDocument();\n    expect(screen.getByText('My Shoes')).toBeInTheDocument();\n  });\n\n  it('allows typing in the textarea', () => {\n    (useSession as jest.Mock).mockReturnValue({\n      data: mockSession,\n      status: 'authenticated',\n    });\n\n    render(<ChatInterface />);\n    const textarea = screen.getByRole('textbox');\n    \n    fireEvent.change(textarea, { target: { value: 'Hello' } });\n    expect(textarea).toHaveValue('Hello');\n  });\n});"],"mappings":"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","ignoreList":[]}